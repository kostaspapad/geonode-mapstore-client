(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6866],{60604:(e,t,r)=>{"use strict";r.d(t,{jJ:()=>n,oy:()=>o,yg:()=>l,vD:()=>i,W:()=>a,B1:()=>s,fU:()=>c,cY:()=>u});var n="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",l="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",o=arguments.length>3?arguments[3]:void 0;return{type:n,id:e,owner:t,actionType:r,options:o}},s=function(e,t){return{type:o,owner:e,options:t}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:l,id:t,owner:r}},u=function(){return{type:i}}},96909:(e,t,r)=>{"use strict";r.d(t,{vZ:()=>n,TB:()=>o,gF:()=>l,g$:()=>i,dJ:()=>a,uz:()=>s,vA:()=>c,lX:()=>u,E2:()=>f,mF:()=>d,ch:()=>p,DX:()=>y,j1:()=>m,wL:()=>b,Nm:()=>v,rb:()=>g,dk:()=>h,Wv:()=>O,Nf:()=>w,FU:()=>k,k5:()=>S,pt:()=>E,Wm:()=>j,wj:()=>P,l1:()=>C,cu:()=>I,Fe:()=>T,Lc:()=>x,p2:()=>A,WQ:()=>D,E0:()=>N,xR:()=>R,WB:()=>L,bB:()=>F});var n="STYLEEDITOR:TOGGLE_STYLE_EDITOR",o="STYLEEDITOR:SELECT_STYLE_TEMPLATE",l="STYLEEDITOR:UPDATE_TEMPORARY_STYLE",i="STYLEEDITOR:UPDATE_STATUS",a="STYLEEDITOR:RESET_STYLE_EDITOR",s="STYLEEDITOR:ADD_STYLE",c="STYLEEDITOR:CREATE_STYLE",u="STYLEEDITOR:LOADING_STYLE",f="STYLEEDITOR:LOADED_STYLE",d="STYLEEDITOR:ERROR_STYLE",p="STYLEEDITOR:UPDATE_STYLE_CODE",y="STYLEEDITOR:EDIT_STYLE_CODE",m="STYLEEDITOR:DELETE_STYLE",b="STYLEEDITOR:INIT_STYLE_SERVICE",v="STYLEEDITOR:SET_EDIT_PERMISSION",g="STYLEEDITOR:SET_DEFAULT_STYLE",h="STYLEEDITOR:UPDATE_EDITOR_METADATA";function O(e,t){return{type:n,layer:e,enabled:t}}function w(e){return{type:i,status:e}}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,r=e.templateId,n=e.format,l=e.languageVersion,i=e.init;return{type:o,code:t,templateId:r,format:n,init:i,languageVersion:l}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,r=e.templateId,n=e.code,o=e.format,i=e.languageVersion,a=e.init;return{type:l,temporaryId:t,templateId:r,code:n,format:o,init:a,languageVersion:i}}function E(e){return{type:u,status:e}}function j(){return{type:f}}function P(e){return{type:c,settings:e}}function C(){return{type:a}}function I(e){return{type:s,add:e}}function T(e,t){return{type:d,status:e,error:t}}function x(){return{type:p}}function A(e){return{type:y,code:e}}function D(e){return{type:m,styleName:e}}function N(e,t){return{type:b,service:e,canEdit:t}}function R(e){return{type:v,canEdit:e}}function L(){return{type:g}}function F(e){return{type:h,metadata:e}}},78795:(e,t,r)=>{"use strict";r.d(t,{Z:()=>F});var n=r(11847),o=r(72500),l=r.n(o),i=r(33398),a=r.n(i),s=r(20721),c=r.n(s),u=r(9626),f=r.n(u),d=r(77263),p=r.n(d),y=r(37153),m=r.n(y),b=r(83403),v=r.n(b),g=r(37295),h=r.n(g),O=r(65792),w=r.n(O),k=r(24262),S=["SLD","viewparams"];function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=v()(Object.keys(w().brewer).map((function(e){return e.toLocaleLowerCase()}))).map((function(e){return{name:e,colors:e}})),I=[{name:"red",colors:["#000","#f00"]},{name:"green",colors:["#000","#008000","#0f0"]},{name:"blue",colors:["#000","#00f"]},{name:"gray",colors:["#333","#eee"]},{name:"jet",colors:["#00f","#ff0","#f00"]}].concat(j(C)),T=function(e,t,r,n){var o=e?c()((e.thematic.colors||e.thematic.additionalColors||[]).filter((function(e){return e.name===t})))||c()(I.filter((function(e){return e.name===t}))):n?c()([n].concat(j(I)).filter((function(e){return e.name===t}))):c()(I.filter((function(e){return e.name===t})));return o&&(m()(o.colors)||o.colors.length>=2)?{ramp:"custom",colors:w().scale(o.colors).colors(r).join(",")}:{ramp:t}},x=function(e,t){var r=e.thematic&&e.thematic.params||[],n=e.thematic&&e.thematic.fieldAsParam&&["field"]||[];return Object.keys(t).reduce((function(o,l){return function(e,t){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((function(t){return t.field===e})).length>0}(e,t)}(l,[].concat(j(r),j(n)))?h()(o,function(e,t,r){return{viewparams:(e?e+";":"")+t+":"+r}}(o.viewparams,l,t[l])):"ramp"===l?h()(o,T(e,t[l],t.intervals||5)):"classification"===l?h()(o,(i=t[l])?{customClasses:i.reduce((function(e,t){return[].concat(j(e),[t.min+","+t.max+","+t.color])}),[]).join(";")}:{}):"attribute"===l?h()(o,{attribute:e.thematic&&e.thematic.fieldAsParam?t[l]:t.field}):"field"===l&&e.thematic&&!e.thematic.fieldAsParam?o:"strokeWeight"!==l||t.strokeOn?"strokeOn"===l?o:h()(o,E({},l,t[l])):h()(o,E({},l,-1));var i}),{})},A=function(e){return h()({protocol:e.protocol,hostname:e.domain},e.port?{port:e.port}:{})},D=function(e){return e.reduce((function(e,t){return p()(t)?t:e}),null)},N=function(e){return e.PolygonSymbolizer?"Polygon":e.LineSymbolizer?"LineString":e.PointSymbolizer?"Point":null},R=function(e){return e.PolygonSymbolizer?e.PolygonSymbolizer.Fill&&e.PolygonSymbolizer.Fill.CssParameter&&e.PolygonSymbolizer.Fill.CssParameter.$||"#808080":e.LineSymbolizer?e.LineSymbolizer.Stroke&&e.LineSymbolizer.Stroke.CssParameter&&e.LineSymbolizer.Stroke.CssParameter.$||"#808080":e.PointSymbolizer&&e.PointSymbolizer.Graphic&&e.PointSymbolizer.Graphic.Mark&&e.PointSymbolizer.Graphic.Mark.Fill&&e.PointSymbolizer.Graphic.Mark.Fill.CssParameter&&e.PointSymbolizer.Graphic.Mark.Fill.CssParameter.$||"#808080"},L={getStyleService:function(e,t){var r=(0,n.ij)((0,k.Hi)(e));return l().format(h()(A(r),{pathname:r.applicationRootPath+"/rest/sldservice/"+e.name+"/classify.xml",query:h()({},x(e,t),{fullSLD:!0})}))},getCapabilitiesUrl:function(e){var t=(0,n.ij)((0,k.Hi)(e));return l().format(h()(A(t),{pathname:t.applicationRootPath+"/rest/sldservice/capabilities.json"}))},getStyleMetadataService:function(e,t){var r=(0,n.ij)((0,k.Hi)(e));return l().format(h()(A(r),{pathname:r.applicationRootPath+"/rest/sldservice/"+e.name+"/classify.json",query:t}))},getStyleParameters:function(e,t){return{SLD:L.getStyleService(e,t),viewparams:x(e,t).viewparams}},getMetadataParameters:function(e,t){return x(e,t)},getFieldsService:function(e){var t=(0,n.ij)((0,k.Hi)(e)),r=e.thematic&&e.thematic.datatable||e.name;return l().format(h()(A(t),{pathname:t.applicationRootPath+"/rest/sldservice/"+r+"/attributes.json"}))},readFields:function(e){return a()(f()(e.Attributes.Attribute||[]).filter((function(e){return t=e.type,-1!==["Integer","Long","Double","Float","BigDecimal"].indexOf(t);var t})).map((function(e){return{name:e.name,type:(e.type,"number")}})),(function(e){return e.name}))},readClassification:function(e){!function(e){if(!e||!e.Rules||!e.Rules.Rule)throw new Error("toc.thematic.invalid_object");f()(e.Rules.Rule).forEach((function(e){if(!e.PolygonSymbolizer&&!e.LineSymbolizer&&!e.PointSymbolizer)throw new Error("toc.thematic.invalid_geometry")}))}(e);var t=f()(e.Rules.Rule||[]);return t.map((function(e,r){var n,o,l,i;return{title:e.Title,color:R(e),type:N(e),min:D([e.Filter.And&&(e.Filter.And.PropertyIsGreaterThanOrEqualTo||e.Filter.And.PropertyIsGreaterThan).Literal,e.Filter.PropertyIsEqualTo&&e.Filter.PropertyIsEqualTo.Literal,r===t.length-1&&(null==e||null===(n=e.Filter)||void 0===n||null===(o=n.PropertyIsGreaterThanOrEqualTo)||void 0===o?void 0:o.Literal)]),max:D([e.Filter.And&&(e.Filter.And.PropertyIsLessThanOrEqualTo||e.Filter.And.PropertyIsLessThan).Literal,e.Filter.PropertyIsEqualTo&&e.Filter.PropertyIsEqualTo.Literal,0===r&&(null==e||null===(l=e.Filter)||void 0===l||null===(i=l.PropertyIsLessThan)||void 0===i?void 0:i.Literal)])}}))||[]},readRasterClassification:function(e){var t,r,n,o;return((null===(r=f()(null==e||null===(t=e.Rules)||void 0===t?void 0:t.Rule)[0])||void 0===r||null===(n=r.RasterSymbolizer)||void 0===n||null===(o=n.ColorMap)||void 0===o?void 0:o.ColorMapEntry)||[]).map((function(e){return{color:e["@color"],opacity:void 0===e["@opacity"]?1:e["@opacity"],label:e["@label"],quantity:parseFloat(e["@quantity"])}}))},methods:["equalInterval","quantile","jenks"],getThematicParameters:function(e){return e.map((function(e){return e.type&&L.standardParams[e.type]&&h()({},L.standardParams[e.type],e)||e}))},standardParams:{aggregate:{title:"toc.thematic.classification_aggregate",defaultValue:"sum",values:[{name:"toc.thematic.values.sum",value:"sum"},{name:"toc.thematic.values.avg",value:"avg"},{name:"toc.thematic.values.count",value:"count"},{name:"toc.thematic.values.min",value:"min"},{name:"toc.thematic.values.max",value:"max"}]}},getColor:T,getColors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=t?t.thematic.colors||[].concat(j(e),j(t.thematic.additionalColors||[])):n?[n].concat(j(e)):j(e);return o.map((function(e){return!m()(e.colors)&&e.colors.length>=r?e:h()({},e,{colors:w().scale(e.colors).colors(r)})}))},hasThematicStyle:function(e){return!!(e&&e.params&&e.params.SLD)},removeThematicStyle:function(e){e.SLD,e.viewparams;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,S);return h()({},t,{SLD:null,viewparams:null})},defaultParams:{attribute:"",intervals:5,method:"equalInterval",ramp:"red",field:"",open:!1,strokeWeight:.2,strokeColor:"#ff0000",strokeOn:!1}};const F=L},8954:(e,t,r)=>{"use strict";r.d(t,{eb:()=>g,IW:()=>h,DG:()=>O});var n=r(31476),o=r.n(n),l=r(75875),i=r.n(l),a=r(9082),s=r(78795);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=["equalInterval","quantile","jenks","standardDeviation"],y=["equalInterval","quantile","jenks"],m={};function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return t.map((function(t){return t.ruleId===e?r(t):t}))}var v=function(e){var t=e.baseUrl,r=e.styleService,n=null!=r&&r.isStatic?r.baseUrl:t;if(m[n])return new Promise((function(e){return e(m[n])}));var o=s.Z.getCapabilitiesUrl({url:n});return(null!=r&&r.isStatic?new Promise((function(e){return e(r)})):a.ZP.getStyleService({baseUrl:n})).then((function(e){return i().get(o).then((function(t){var r=t.data;return[e,r]})).catch((function(){return[e,null]}))})).then((function(e){var t,r,o,l,i,a,s,c,f,b,v,g=(v=2,function(e){if(Array.isArray(e))return e}(b=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(b,v)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(b,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=g[0],O=g[1],w=u(u({},h),{},{classificationMethods:O?(t=O,r=(t||{}).capabilities,o=void 0===r?{}:r,l=o.vector,i=void 0===l?{}:l,a=o.raster,s=void 0===a?{}:a,c=i.classifications||[],f=s.classifications||[],{vector:c.filter((function(e){return-1!==p.indexOf(e)})),raster:f.filter((function(e){return-1!==p.indexOf(e)}))}):{vector:y,raster:y}});return m[n]=w,w}))};function g(e){var t=e.baseUrl,r=e.styleService;return v({baseUrl:t,styleService:r})}function h(e){var t=e.values,r=e.properties,n=e.rules,l=e.layer,a=["intervals","method","reverse","attribute","ramp"],c=u(u({},r),t),d=r.ruleId;if(void 0!==t.ramp&&t.ramp!==r.ramp&&"customInterval"===(null==c?void 0:c.method)&&!t.classification){var p=s.Z.getColor(void 0,t.ramp,c.intervals).colors.split(",");return new Promise((function(e){return e(b(d,n,(function(e){return u(u(u({},e),c),{},{classification:c.classification.map((function(e,t){return u(u({},e),{},{color:p[t]})})),errorId:void 0})})))}))}var y=a.reduce((function(e,t){return u(u({},e),{},f({},t,r[t]))}),{}),m=a.reduce((function(e,t){return u(u({},e),{},f({},t,c[t]))}),{});if(!a.find((function(e){return void 0===c[e]}))&&!o()(y,m)&&"custom"!==(null==t?void 0:t.ramp)&&"customInterval"!==(null==c?void 0:c.method)){var v="custom"===c.ramp&&c.classification.length>0&&{name:"custom",colors:c.classification.map((function(e){return e.color}))},g=s.Z.getColor(void 0,c.ramp,c.intervals,v);return i().get(s.Z.getStyleMetadataService(l,u({intervals:c.intervals,method:c.method,attribute:c.attribute,reverse:c.reverse},g))).then((function(e){var r=e.data;return b(d,n,(function(e){return u(u(u({},e),t),{},{classification:s.Z.readClassification(r),errorId:void 0})}))})).catch((function(){return b(d,n,(function(e){return u(u(u({},e),t),{},{errorId:"styleeditor.classificationError"})}))}))}return new Promise((function(e){return e(b(d,n,(function(e){return u(u(u({},e),t),{},{errorId:void 0})})))}))}function O(e){var t=e.values,r=e.properties,n=e.rules,l=e.layer,a=["intervals","continuous","method","reverse","ramp"],c=u(u({},r),t),d=r.ruleId,p=a.reduce((function(e,t){return u(u({},e),{},f({},t,r[t]))}),{}),y=a.reduce((function(e,t){return u(u({},e),{},f({},t,c[t]))}),{});if(!a.find((function(e){return void 0===c[e]}))&&!o()(p,y)){var m="custom"===c.ramp&&c.classification.length>0&&{name:"custom",colors:c.classification.map((function(e){return e.color}))},v=s.Z.getColor(void 0,c.ramp,c.intervals,m);return i().get(s.Z.getStyleMetadataService(l,u({intervals:c.intervals,continuous:c.continuous,method:c.method,reverse:c.reverse},v))).then((function(e){var r=e.data;return b(d,n,(function(e){return u(u(u({},e),t),{},{classification:s.Z.readRasterClassification(r),errorId:void 0})}))})).catch((function(){return b(d,n,(function(e){return u(u(u({},e),t),{},{errorId:"styleeditor.classificationRasterError"})}))}))}return new Promise((function(e){return e(b(d,n,(function(e){return u(u(u({},e),t),{},{errorId:void 0})})))}))}},67007:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>T});var n=r(72500),o=r.n(n),l=r(80643),i=r.n(l),a=r(9626),s=r.n(a),c=r(57546),u=r.n(c),f=r(37295),d=r.n(f),p=r(5055),y=r.n(p),m=r(75875),b=r.n(m),v=r(37275),g=r(96309);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k={},S=function(e){var t=(i()(e)&&e||e.split(","))[0],r=o().parse(t,!0);return o().format(d()({},r,{search:null},{query:d()({service:"WMS",version:"1.3.0",request:"GetCapabilities"},r.query)}))},E=function(e){var t=e&&e.Title,r=e.LogoURL&&O(O({},u()(e,"LogoURL.$")||{}),{},{format:u()(e,"LogoURL.Format")}),n=u()(e,'OnlineResource.$["xlink:href"]');return{title:t,logo:r,imageUrl:u()(e,'LogoURL.OnlineResource.$["xlink:href"]'),link:n}},j=function e(t){return t.Layer?(i()(t.Layer)&&t.Layer||[t.Layer]).reduce((function(t,r){return t.concat(e(r)).concat(r.Layer&&r.Name?[r]:[])}),[]):t.Name&&[t]||[]},P=function(e){return e.Request&&e.Request.GetMap&&e.Request.GetMap.DCPType&&e.Request.GetMap.DCPType.HTTP&&e.Request.GetMap.DCPType.HTTP.Get&&e.Request.GetMap.DCPType.HTTP.Get.OnlineResource&&e.Request.GetMap.DCPType.HTTP.Get.OnlineResource.$||void 0},C=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=(n.WMS_Capabilities||n.WMT_MS_Capabilities||{}).Capability,c=(n.WMS_Capabilities||n.WMT_MS_Capabilities||{}).Service,u=P(s),f=s.Layer&&(null===(e=s.Layer.SRS||s.Layer.CRS)||void 0===e?void 0:e.map((function(e){return e.toUpperCase()})))||[],p=s.Layer&&s.Layer.Attribution&&E(s.Layer.Attribution),y=s.Request&&s.Request.GetMap&&s.Request.GetMap.Format||[],m=j(s),b=i()(m)?m:[m],v=b.filter((function(e){return!a||-1!==e.Name.toLowerCase().indexOf(a.toLowerCase())||e.Title&&-1!==e.Title.toLowerCase().indexOf(a.toLowerCase())||e.Abstract&&-1!==e.Abstract.toLowerCase().indexOf(a.toLowerCase())}));return{numberOfRecordsMatched:v.length,numberOfRecordsReturned:Math.min(l,v.length),nextRecord:o+Math.min(l,v.length)+1,service:c,layerOptions:{version:(null===(t=n.WMS_Capabilities||n.WMT_MS_Capabilities)||void 0===t||null===(r=t.$)||void 0===r?void 0:r.version)||"1.3.0"},records:v.filter((function(e,t){return t>=o-1&&t<o-1+l})).map((function(e){return d()({},e,{formats:y,onlineResource:u,SRS:f,credits:e.Attribution?E(e.Attribution):p})}))}},I=function(e,t,r,n){var o=k[e];return o&&(new Date).getTime()<o.timestamp+1e3*((0,v.u8)("cacheExpire")||60)?new Promise((function(e){e(C(o.data,t,r,n))})):b().get(S(e)).then((function(o){var l;return y().parseString(o.data,{explicitArray:!1},(function(e,t){l=t})),k[e]={timestamp:(new Date).getTime(),data:l},C(l,t,r,n)}))};const T={flatLayers:j,parseUrl:S,getDimensions:function(e){return s()(e.Dimension||e.dimension||[]).map((function(t,r){var n=e.Extent&&s()(e.Extent)[r]||e.extent&&s()(e.extent)[r];return{name:t.$.name,units:t.$.units,unitSymbol:t.$.unitSymbol,default:t.$.default||n&&n.$.default,values:t._&&t.split(",")||n&&n._&&n.split(",")}}))},getCapabilities:function(e,t){var n=o().parse(e,!0),l=o().format(d()({},n,{query:d()({service:"WMS",version:"1.1.1",request:"GetCapabilities"},n.query)}));return new Promise((function(e){Promise.all([r.e(9942),r.e(7260)]).then(function(){var n=r(67260).unmarshaller;e(b().get(S(l)).then((function(e){var r;if(t)return y().parseString(e.data,{explicitArray:!1},(function(e,t){r=t})),r;var o=n.unmarshalString(e.data);return o&&o.value})))}.bind(null,r)).catch(r.oe)}))},describeLayer:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=o().parse(e,!0),i=o().format(d()({},l,{query:d()({service:"WMS",version:"1.1.1",layers:t,request:"DescribeLayer"},l.query,n.query||{})}));return new Promise((function(e){Promise.all([r.e(9942),r.e(7260)]).then(function(){var t=r(67260).unmarshaller;e(b().get(S(i)).then((function(e){var r=t.unmarshalString(e.data);return r&&r.value&&r.value.layerDescription&&r.value.layerDescription[0]})))}.bind(null,r)).catch(r.oe)}))},getRecords:I,describeLayers:function(e,t){var r=o().parse(e,!0),n=o().format(d()({},r,{query:d()({service:"WMS",version:"1.1.1",layers:t,request:"DescribeLayer"},r.query)}));return b().get(S(n)).then((function(e){var t;return y().parseString(e.data,{explicitArray:!1},(function(e,r){t=r&&r.WMS_DescribeLayerResponse&&r.WMS_DescribeLayerResponse.LayerDescription})),(t=Array.isArray(t)?t:[t]).map((function(e){return O(O({},e&&e.$||{}),{},{layerName:e&&e.$&&e.$.name,query:O({},e&&e.query&&e.query.$||{})})}))}))},textSearch:function(e,t,r,n){return I(e,t,r,n)},parseLayerCapabilities:function e(t,r,n){return s()(n||u()(t,"capability.layer.layer")).reduce((function(n,o){return n||(!o.name&&o.layer?e(t,r,s()(o.layer)):2===r.name.split(":").length&&o.name&&2===o.name.split(":").length?r.name===o.name&&o:o.name&&2===o.name.split(":").length?r.name===o.name.split(":")[1]&&o:2===r.name.split(":").length?r.name.split(":")[1]===o.name&&o:r.name===o.name&&o)}),null)},getBBox:function(e,t){for(var r=e,n=r.EX_GeographicBoundingBox||r.exGeographicBoundingBox||(0,g.getWMSBoundingBox)(r.BoundingBox)||r.LatLonBoundingBox&&r.LatLonBoundingBox.$||r.latLonBoundingBox;!n&&r.Layer&&r.Layer.length;)n=(r=r.Layer[0]).EX_GeographicBoundingBox||r.exGeographicBoundingBox||(0,g.getWMSBoundingBox)(r.BoundingBox)||r.LatLonBoundingBox&&r.LatLonBoundingBox.$||r.latLonBoundingBox;n||(n={westBoundLongitude:-180,southBoundLatitude:-90,eastBoundLongitude:180,northBoundLatitude:90});var o={extent:[n.westBoundLongitude||n.minx,n.southBoundLatitude||n.miny,n.eastBoundLongitude||n.maxx,n.northBoundLatitude||n.maxy],crs:"EPSG:4326"};return t?{crs:o.crs,bounds:{minx:o.extent[0],miny:o.extent[1],maxx:o.extent[2],maxy:o.extent[3]}}:o},reset:function(){Object.keys(k).forEach((function(e){delete k[e]}))}}},9082:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>D});var n=r(75875),o=r.n(n),l=r(37295),i=r.n(l),a=r(57546),s=r.n(a),c=r(48397),u=r.n(c),f=r(48019),d=r.n(f);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y={},m=function(e){return e.map((function(e){return u()(e,(function(e,t){return d()(t)}))}))},b=r(20721),v=r.n(b),g=r(9626),h=r.n(g),O=r(99009);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=[{regex:/gt-css/,format:"css"}],P={css:"application/vnd.geoserver.geocss+css",sld:"application/vnd.ogc.sld+xml",sldse:"application/vnd.ogc.se+xml",zip:"application/zip"},C=function(e,t){return"sld"===e?t&&t.version&&"1.1.0"===t.version?P.sldse:P.sld:P[e]||P.sld},I=function(e,t){var r=e.options,n=void 0===r?{}:r,o=e.format,l=e.baseUrl,i=e.name,a=e.workspace,s=e.languageVersion,c=t?{name:encodeURIComponent(i)}:{};return{options:S(S({},n),{},{params:S(S({},n.params),c),headers:S(S({},n.headers||{}),{},{"Content-Type":C(o,s)})}),url:"".concat(l,"rest/").concat(a&&"workspaces/".concat(a,"/")||"","styles").concat(t?".json":"/".concat(encodeURIComponent(i)))}},T=function(e){var t=e.geoserverBaseUrl,r=e.workspace,n=e.name,o=e.format,l=void 0===o?"json":o;return"".concat(t,"rest/").concat(r&&"workspaces/".concat(r,"/")||"","styles/","".concat(encodeURIComponent(n),".").concat(l))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h()((null==e?void 0:e.entry)||[]);return t.reduce((function(e,t){return S(S({},e),{},E({},t["@key"],t.$))}),{})},A=function(e){var t=e.baseUrl,r=e.styleName,n=e.metadata,l=T(S(S({},(0,O.$N)(r)),{},{geoserverBaseUrl:t}));return o().get(l).then((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data,i=void 0===r?{}:r;return o().put(l,{style:S(S({},i.style),{},{metadata:S(S({},x(null===(e=i.style)||void 0===e?void 0:e.metadata)),n)})})}))};const D={saveStyle:function(e,t,r,n){var l=e+"styles/"+encodeURI(t),a=i()({},n);return a.headers=i()({},a.headers,{"Content-Type":"application/vnd.ogc.sld+xml"}),o().put(l,r,a)},getStyleService:function(e){var t=e.baseUrl;return function(e){var t=e.baseUrl;return y[t]?new Promise((function(e){return e(y[t])})):o().all([o().get("".concat(t,"rest/about/version"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return s()(t,"about.resource")})).catch((function(){return null})),o().get("".concat(t,"rest/about/manifest"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return s()(t,"about.resource")})).catch((function(){return null})),o().get("".concat(t,"rest/fonts"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return s()(t,"fonts")})).catch((function(){return null}))]).then((function(e){var r,n,o=(n=3,function(e){if(Array.isArray(e))return e}(r=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(r,n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],i=o[1],a=o[2],s={version:l&&m(l),manifest:i&&m(i),fonts:a};return l&&i?(y[t]=s,y[t]):s}))}({baseUrl:t}).then((function(e){var r=e.version,n=e.manifest,o=e.fonts,l=void 0===o?[]:o;if(!r)return null;var i,a=(n||[]).map((function(e){var t=e.name;return v()(j.filter((function(e){var r=e.regex;return t.match(r)})).map((function(e){return e.format})))})).filter((function(e){return e})),s=v()(r.filter((function(e){var t=e.name;return"geoserver"===(void 0===t?"":t).toLowerCase()})))||{};return{baseUrl:t,version:s.version,formats:[].concat((i=a,function(e){if(Array.isArray(e))return w(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),["sld"]),availableUrls:[],fonts:l}}))},getStyle:function(e){var t=e.options,r=e.format,n=e.baseUrl,l=e.styleName,i=(0,O.$N)(l),a=i.name,s=i.workspace,c=I({options:t,format:r,baseUrl:n,name:a,workspace:s});return o().get(c.url,c.options)},createStyle:function(e){var t=e.baseUrl,r=e.code,n=e.options,l=e.format,i=void 0===l?"sld":l,a=e.styleName,s=e.languageVersion,c=e.metadata,u=(0,O.$N)(a),f=u.name,d=u.workspace,p=I({options:n,format:i,baseUrl:t,name:f,workspace:d,languageVersion:s},!0);return o().post(p.url,r,p.options).then((function(){return c?A({baseUrl:t,styleName:a,metadata:c}).then((function(){return null})).catch((function(){return null})):null}))},updateStyle:function(e){var t=e.baseUrl,r=e.code,n=e.options,l=e.format,i=void 0===l?"sld":l,a=e.styleName,s=e.languageVersion,c=e.metadata,u=(0,O.$N)(a),f=u.name,d=u.workspace,p=I({options:n,format:i,baseUrl:t,name:f,workspace:d,languageVersion:s});return o().put(p.url,r,p.options).then((function(){return c?A({baseUrl:t,styleName:a,metadata:c}).then((function(){return null})).catch((function(){return null})):null}))},deleteStyle:function(e){var t=e.baseUrl,r=e.options,n=e.format,l=void 0===n?"sld":n,i=e.styleName,a=(0,O.$N)(i),s=a.name,c=a.workspace,u=I({options:r,format:l,baseUrl:t,name:s,workspace:c});return o().delete(u.url,u.options)},getStylesInfo:function(e){var t=e.baseUrl,r=e.styles,n=void 0===r?[]:r,l=[],a=n.length;return new Promise((function(e){n&&0!==n.length?n.forEach((function(r,s){var c=r.name;return o().get(T(S(S({},(0,O.$N)(c)),{},{geoserverBaseUrl:t}))).then((function(t){var r=t.data;l[s]=i()({},n[s],r&&r.style&&S(S(S({},r.style),r.style.metadata&&{metadata:x(r.style.metadata)}),{},{name:(0,O.U_)(r.style)})||{}),0==--a&&e(l.filter((function(e){return e})))})).catch((function(){l[s]=i()({},n[s]),0==--a&&e(l.filter((function(e){return e})))}))})):e([])}))},getStyleCodeByName:function(e){var t=e.baseUrl,r=e.styleName,n=e.options,l=(0,O.$N)(r),i=l.name,a=l.workspace,s=T({name:i,workspace:a,geoserverBaseUrl:t});return o().get(s,n).then((function(e){return e.data&&e.data.style&&e.data.style.name?o().get(T({workspace:a,geoserverBaseUrl:t,name:e.data.style.name,format:(r=e.data.style.filename,r.split(".").pop())})).then((function(t){var r=t.data;return S(S({},e.data.style),{},{code:r})})):null;var r}))},updateStyleMetadata:A}},7472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var n=r(37295),o=r.n(n),l=r(45697),i=r.n(l),a=r(24852),s=r.n(a),c=r(85294),u=r.n(c),f=r(72986),d=r.n(f),p=r(5346);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,r,n,l,i=(n=a,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(n);if(l){var r=k(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return O(this,e)});function a(){var e;v(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return S(w(e=i.call.apply(i,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?s().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},s().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},s().createElement(p.Z,{msgId:"loading"}),s().createElement(d(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),S(w(e),"renderRole",(function(t){return s().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),S(w(e),"hasRole",(function(t){return s().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),S(w(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=a,(r=[{key:"render",value:function(){var e=this,t=s().createElement("div",{id:this.props.id,style:b({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},s().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),s().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?s().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):s().createElement("span",null)),r=this.props.draggable?s().createElement(u(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?s().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&g(t.prototype,r),a}(s().Component);S(E,"propTypes",{id:i().string.isRequired,style:i().object,backgroundStyle:i().object,className:i().string,maskLoading:i().bool,containerClassName:i().string,headerClassName:i().string,bodyClassName:i().string,footerClassName:i().string,onClickOut:i().func,modal:i().bool,start:i().object,draggable:i().bool,bounds:i().oneOfType([i().string,i().object])}),S(E,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const j=E},35400:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(24852),o=r.n(n),l=r(79313);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.mainViewStyle,i=void 0===n?{}:n,s=e.contentStyle,c=void 0===s?{}:s,u=e.imageStyle,f=void 0===u?{}:u,d=e.glyph,p=void 0===d?"info-sign":d,y=e.iconFit,m=e.title,b=e.tooltip,v=e.tooltipId,g=e.description,h=e.content;return o().createElement("div",{className:"empty-state-container",style:a({height:y?"100%":void 0},r)},o().createElement("div",{key:"main-view",className:"empty-state-main-view",style:a({height:y?"100%":void 0},i)},p?o().createElement("div",{key:"glyph",className:"empty-state-image",style:a({height:y?"100%":void 0},f)},o().createElement(l.Z,{iconFit:y,tooltip:b,tooltipId:v,glyph:p})):null,m?o().createElement("h1",{key:"title"},m):null,g?o().createElement("p",{key:"description",className:"empty-state-description"},g):null),o().createElement("div",{key:"content",className:"empty-state-content",style:c},h))}},69235:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v}),r(61057);var n=r(45697),o=r.n(n),l=r(24852),i=r.n(l),a=r(30294);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,r,n,o,l=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(o){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return d(this,e)});function s(){var e;c(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(p(e=l.call.apply(l,[this].concat(r))),"onFilter",(function(t){e.props.onFilter(t.target.value)})),m(p(e),"onClear",(function(){e.props.onFilter("")})),e}return t=s,(r=[{key:"render",value:function(){var e=this.props.filterText?i().createElement(a.OverlayTrigger,{placement:"bottom",overlay:i().createElement(a.Tooltip,{id:"mapstore-toc-filter"},this.props.tooltipClear)},i().createElement(a.Glyphicon,{glyph:"1-close",className:"text-primary close-filter",onClick:this.onClear})):i().createElement(a.Glyphicon,{className:"text-primary",glyph:"filter"});return i().createElement(a.FormGroup,{className:"mapstore-filter"},i().createElement(a.InputGroup,null,i().createElement(a.FormControl,{value:this.props.filterText,placeholder:this.props.filterPlaceholder,onChange:this.onFilter,onFocus:this.props.onFocus,type:"text"}),i().createElement(a.InputGroup.Addon,{className:"square-button-md"},this.props.loading?i().createElement("div",{className:"toc-inline-loader"}):e)))}}])&&u(t.prototype,r),s}(i().Component);m(b,"propTypes",{loading:o().bool,filterText:o().string,filterPlaceholder:o().oneOfType([o().object,o().string]),onFilter:o().func,onFocus:o().func,tooltipClear:o().oneOfType([o().object,o().string])}),m(b,"defaultProps",{loading:!1,filterText:"",filterPlaceholder:"",onFilter:function(){},onFocus:function(){},tooltipClear:"Clear"});const v=b},79313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(24852),o=r.n(n),l=r(30294),i=r(96259),a=(0,r(15135).Z)(l.Glyphicon);const s=function(e){var t=e.glyph,r=void 0===t?"info-sign":t,n=e.tooltip,l=e.tooltipId,s=e.iconFit,c=e.padding,u=void 0===c?0:c,f=e.margin,d=void 0===f?0:f;return o().createElement(i.Z,null,(function(e){var t=e.width,i=e.height;return o().createElement(a,{glyph:r,tooltip:n,tooltipId:l,style:{display:"inline-block",padding:u+"px",margin:d+"px",textAlign:"center",fontSize:s?Math.min(t,i)-2*u-2*d:t-2*u-2*d}})}))}},1036:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(31476),o=r.n(n);const l=(0,r(67076).shouldUpdate)((function(e,t){return!o()(e.start,t.start)||e.disabled!==t.disabled}))(r(85552))},76424:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(24852),o=r.n(n),l=r(33716),i=r.n(l),a=r(32425),s=["body","caption","infoExtra","className","description","fullText","onClick","onMouseEnter","onMouseLeave","preview","selected","size","style","stylePreview","styleTools","title","loading","dragSymbol","tools"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.body,r=e.caption,n=e.infoExtra,l=e.className,c=void 0===l?"":l,f=e.description,p=e.fullText,y=e.onClick,m=void 0===y?function(){}:y,b=e.onMouseEnter,v=void 0===b?function(){}:b,g=e.onMouseLeave,h=void 0===g?function(){}:g,O=e.preview,w=e.selected,k=e.size,S=e.style,E=void 0===S?{}:S,j=e.stylePreview,P=void 0===j?{}:j,C=e.styleTools,I=void 0===C?{}:C,T=e.title,x=e.loading,A=e.dragSymbol,D=void 0===A?"+":A,N=e.tools,R=d(e,s);return o().createElement("div",{className:"mapstore-side-card".concat(w?" selected":"").concat(k?" ms-"+k:"").concat(c?" ".concat(c):"").concat(p?" full-text":""),onClick:function(e){return m(u({title:T,preview:O,description:f,caption:r,tools:N},R),e)},onMouseEnter:v,onMouseLeave:h,style:E},o().createElement("div",{className:"ms-head"},R.isDraggable&&R.connectDragSource&&R.connectDragSource(o().createElement("div",{className:"mapstore-side-card-tool text-center"},o().createElement("div",{style:{width:10,overflow:"hidden"}},D))),O&&o().createElement("div",{className:"mapstore-side-preview",style:P},O),o().createElement("div",{className:"mapstore-side-card-container"},o().createElement("div",{className:"mapstore-side-card-inner"},o().createElement("div",{className:"mapstore-side-card-left-container"},o().createElement("div",{className:"mapstore-side-card-info"},T&&o().createElement("div",{className:"mapstore-side-card-title"},o().createElement("span",null,T)),f&&o().createElement("div",{className:"mapstore-side-card-desc"},i()(f)?f:o().createElement("span",null,f)),r&&o().createElement("div",{className:"mapstore-side-card-caption"},o().createElement("span",null,r))),n),o().createElement("div",{className:"mapstore-side-card-right-container"},o().createElement("div",{className:"mapstore-side-card-tool text-center",style:I},N),"sm"!==k&&o().createElement("div",{className:"mapstore-side-card-loading"},o().createElement(a.Z,{className:"mapstore-side-card-loader",size:12,hidden:!x})))))),t&&o().createElement("div",{className:"ms-body"},t))}},38064:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(45697),o=r.n(n),l=r(24852),i=r.n(l),a=r(30294),s=r(76424);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,r,n,o,l=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(o){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return y(this,e)});function c(){return f(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.cardComponent,r=e.items,n=e.colProps,o=e.onItemClick,l=e.size,c=t||s.Z;return i().createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},i().createElement(a.Row,{className:"items-list"},r.map((function(e,t){return i().createElement(a.Col,u({key:e.id||t},n),i().createElement(c,u({onClick:function(){return o(e)},size:l},e)))}))))}}])&&d(t.prototype,r),c}(i().Component);b(v,"propTypes",{size:o().string,onItemClick:o().func,colProps:o().object,items:o().array,cardComponent:o().oneOfType([o().string,o().func]),className:o().string}),b(v,"defaultProps",{size:"",onItemClick:function(){},colProps:{xs:12},className:"",items:[]});const g=v},82030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(24852),o=r.n(n),l=r(72300),i=r.n(l),a=r(67076),s=r(35400);const c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Z;return(0,a.branch)(e,(function(){return function(e){return o().createElement(r,t&&i()(t)?t(e):t)}}))}},73014:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(24852),o=r.n(n),l=r(67076),i=r(82110);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t=e.loading,r=e.isLoading;return t||r&&("function"==typeof r?r():!0===r)};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Z;return(0,l.branch)(e,(function(){return function(e){var n=e.loaderProps;return o().createElement(r,a({},t,n))}}))}},93451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var n=r(86638),o=r(45697),l=r.n(o),i=r(9626),a=r.n(i),s=r(80643),c=r.n(s),u=r(82920),f=r.n(u),d=r(37153),p=r.n(d),y=r(67076),m=["messages"];function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(c()(t))return t.map((function(o){var l=(0,n.S$)(e,o[r]||p()(o)&&o||"");return g(g({},o),{},h({},r,f()(l)?t:l))}));var o=(0,n.S$)(e,t);return f()(o)?t:o},w=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return g(g({},n),{},h({},o,e[o]&&O(t,e[o],r)))}};const k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return(0,y.compose)((0,y.getContext)({messages:l().object}),(0,y.mapProps)((function(r){var n=r.messages,o=b(r,m);return g(g({},o),a()(e).reduce(w(o,n,t),{}))})))}},97111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(24852),o=r.n(n),l=r(45697),i=r.n(l),a=r(67460),s=r.n(a);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const p=function(e,t){return function(r){function l(l){var i,a,c,p=(0,n.useRef)(),y=(a=(0,n.useState)(l[t]),c=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(a,c)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=y[0],b=y[1],v=(0,n.useRef)();v.current=m,(0,n.useEffect)((function(){v.current!==l[t]&&b(l[t])}),[l[t]]),(0,n.useEffect)((function(){return p.current=s()((function(t){var r=t.newProps,n=t.newValue;r[e](n)}),l.debounceTime),function(){p.current.cancel()}}),[l.debounceTime]);var g=u(u({},l),{},(f(i={},t,m),f(i,e,(function(e){b(e),p.current&&(p.current.cancel(),p.current({newProps:l,newValue:e}))})),i));return o().createElement(r,g)}return l.propTypes={debounceTime:i().number},l.defaultProps={debounceTime:300},l.displayName=r.displayName+"WithDebounceOnCallback",l}}},6724:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(24852),o=r.n(n),l=r(67076),i=function(e,t,r){var n=r.maskContainerStyle,i=r.maskStyle,a=r.className,s=r.white;return function(r){return(0,l.nest)((function(r){return o().createElement("div",{className:"ms2-mask-container ".concat(a||""," ").concat(e(r)?"":"ms2-mask-empty"),style:n},r.children,e(r)?o().createElement("div",{className:"ms2-mask"+(s?" white-mask":""),style:i},t(r)):null)}),r)}};const a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.alwaysWrap,o=void 0===n||n,a=r.white,s=void 0!==a&&a,c=r.maskContainerStyle,u=void 0===c?{}:c,f=r.maskStyle,d=void 0===f?{}:f,p=r.className;return o?i(e,t,{maskContainerStyle:u,maskStyle:d,className:p,white:s}):(0,l.branch)(e,i((function(){return!0}),t,{maskContainerStyle:u,maskStyle:d,white:s}))}},57037:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(24852),o=r.n(n),l=r(45697),i=r.n(l),a=r(72300),s=r.n(a),c=r(24198),u=r(17621),f=r.n(u),d=r(80307),p=r(37275);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){var t=e.value,r=e.format,l=e.onChangeColor,i=e.text,a=e.line,u=e.disabled,p=e.pickerProps,m=e.containerNode,v=e.onOpen,h=e.placement,O=10,w={picker:{opacity:0},arrow:{opacity:0},overlay:{}},k=g((0,n.useState)(),2),S=k[0],E=k[1],j=g((0,n.useState)(w),2),P=j[0],C=j[1],I=g((0,n.useState)(),2),T=I[0],x=I[1],A=f()(t).toString(),D=s()(m)?m():m;(0,n.useEffect)((function(){var e=S&&f()(S).toString();e&&A&&A!==e&&E(t)}),[A]),(0,n.useEffect)((function(){v(T),T||C(w)}),[T]);var N=(0,n.useRef)(),R=(0,n.useRef)();function L(){var e,t,r,n,o,l,i;if("center"===h)return{picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}};var a=null==N||null===(e=N.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e),s=null==R||null===(r=R.current)||void 0===r||null===(n=r.getBoundingClientRect)||void 0===n?void 0:n.call(r),c=null==R||null===(o=R.current)||void 0===o||null===(l=o.querySelector)||void 0===l?void 0:l.call(o,".ms-sketch-picker"),u=null==c||null===(i=c.getBoundingClientRect)||void 0===i?void 0:i.call(c);if(a&&s&&u){var f,d,p,y,m=u.width,b=u.height,v=s.top,g=s.left,w=s.width,k=s.height,S=a.top,E=a.left,j=a.width,P=a.height,C=[E+j/2,S+P/2],I=C[0]-g>m/2+O&&g+w-C[0]>m/2+O,T=C[1]-v>b/2+O&&v+k-C[1]>b/2+O,x={top:{filter:function(){return I&&S-v>b+O},styles:function(){return{picker:{position:"absolute",top:S-b-O-v,left:E+j/2-m/2-g},overlay:{},arrow:{top:S+2,left:E+j/2,transform:"translate(-50%, -50%) rotateZ(270deg) translateX(50%)"}}}},right:{filter:function(){return T&&g+w-(E+j)>m+O},styles:function(){return{picker:{position:"absolute",top:S-b/2-v,left:E+j+O-g},overlay:{},arrow:{top:S+P/2,left:E+j-2,transform:"translate(-50%, -50%) rotateZ(0deg) translateX(50%)"}}}},bottom:{filter:function(){return I&&v+k-(S+P)>b+O},styles:function(){return{picker:{position:"absolute",top:S+P+O-v,left:E+j/2-m/2-g},overlay:{},arrow:{top:S+P-2,left:E+j/2,transform:"translate(-50%, -50%) rotateZ(90deg) translateX(50%)"}}}},left:{filter:function(){return T&&E-g>m+O},styles:function(){return{picker:{position:"absolute",top:S-b/2-v,left:E-m-O-g},overlay:{},arrow:{top:S+P/2,left:E+2,transform:"translate(-50%, -50%) rotateZ(180deg) translateX(50%)"}}}}};if(null!=x&&null!==(f=x[h])&&void 0!==f&&null!==(d=f.filter)&&void 0!==d&&d.call(f))return null==x||null===(p=x[h])||void 0===p||null===(y=p.styles)||void 0===y?void 0:y.call(p);if("top"!==h&&x.top.filter())return x.top.styles();if("right"!==h&&x.right.filter())return x.right.styles();if("bottom"!==h&&x.bottom.filter())return x.bottom.styles();if("left"!==h&&x.left.filter())return x.left.styles()}return{picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}}}(0,n.useEffect)((function(){var e=function(){return C(L())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,n.useEffect)((function(){T&&C(L())}),[T]);var F,z,Z=u?" ms-disabled":"",M=o().createElement("div",{ref:R,className:"ms-color-picker-overlay",style:b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",top:0,left:0},null==P?void 0:P.overlay)},o().createElement("div",{className:"ms-color-picker-cover",style:{position:"absolute",width:"100%",height:"100%",top:0,left:0},onClick:function(){x(!1),S&&l(r?f()(S).toString(r):S)}}),o().createElement(c.xS,y({},p,{className:"ms-sketch-picker",styles:{picker:b({width:200,padding:"10px 10px 0",boxSizing:"initial"},null==P?void 0:P.picker)},color:f()(S||t).toRgb(),onChange:function(e){return E(e.rgb)}})),o().createElement("div",{className:"ms-sketch-picker-arrow",style:b({position:"absolute",borderWidth:12},null==P?void 0:P.arrow)})),W=D?(0,d.createPortal)(M,D):M;return o().createElement("div",{className:"ms-color-picker".concat(Z)},o().createElement("div",{className:"ms-color-picker-swatch",ref:N,style:(F=S||t||"transparent",z=f()(F).toRgbString(),a?{boxSizing:"border-box",border:"4px solid ".concat(z),backgroundColor:"transparent"}:{color:"transparent"===F?"#000000":f().mostReadable(z,["#000000"],{includeFallbackColors:!0}).toHexString(),backgroundColor:z}),onClick:function(){u||(x(!T),S&&l(r?f()(S).toString(r):S))}},i),T?W:null)}O.propTypes={value:i().oneOfType([i().string,i().shape({r:i().number,g:i().number,b:i().number,a:i().number})]),format:i().string,onChangeColor:i().func,text:i().string,line:i().bool,disabled:i().bool,pickerProps:i().object,containerNode:i().oneOfType([i().node,i().func]),onOpen:i().function,placement:i().string},O.defaultProps={disabled:!1,line:!1,onChangeColor:function(){},pickerProps:{},onOpen:function(){},containerNode:function(){return document.querySelector("."+((0,p.u8)("themePrefix")||"ms2")+" > div")||document.body}};const w=O},12961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(24852),o=r.n(n),l=r(45697),i=r.n(l),a=r(30294),s=r(57037);function c(e){var t=e.color,r=e.format,n=e.line,l=e.onChangeColor,i=e.disableAlpha,c=e.containerNode,u=e.onOpen,f=e.presetColors,d=e.placement;return o().createElement("div",{className:"ms-color-selector"},o().createElement(s.Z,{text:o().createElement(a.Glyphicon,{glyph:"dropper"}),format:r,line:n,value:t,onChangeColor:l,pickerProps:{disableAlpha:i,presetColors:f},containerNode:c,onOpen:u,placement:d}))}c.propTypes={color:i().oneOfType([i().string,i().shape({r:i().number,g:i().number,b:i().number,a:i().number})]),format:i().string,line:i().bool,onChangeColor:i().func,disableAlpha:i().bool,containerNode:i().node,onOpen:i().func,presetColors:i().array,placement:i().string},c.defaultProps={line:!1,onChangeColor:function(){},onOpen:function(){}};const u=c},98360:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(24852),o=r.n(n),l=r(45697),i=r.n(l),a=r(43143),s=r(43129),c=r(50542),u=r.n(c),f=r(5346),d=["options"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){var t=e.ramp,r=e.name,n=e.label,l=1/t.length,i=(t||[]).reduce((function(e,r,n){return"".concat(e,", ").concat(r," ").concat(n/t.length*100,"%, ").concat(r," ").concat(100*(n/t.length+l),"%")}),"linear-gradient(to right");return o().createElement("div",{style:{backgroundImage:"".concat(i,")"),width:"100%",display:"inline-block",verticalAlign:"middle",padding:"0 2px"}},o().createElement("span",{style:{color:"#000000",backgroundColor:"rgba(255, 255, 255, 0.75)",padding:"0 4px"}},o().createElement(f.Z,{msgId:n||r,msgParams:{number:t.length}})))};function v(e){var t=e.value,r=e.samples,n=e.onChange,l=e.items,i=e.rampFunction,c=e.disabled,f=l.map((function(e){var t=e.options,n=void 0===t?{}:t,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,d);return y(y({},o),{},{options:n,ramp:i?i(o,n):((0,a.qH)(n.base,n.range,r+1,n.options)||["#AAA"]).splice(1)})})),p=u()(f,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e===t||e.name===(t&&t.name)}));return o().createElement(s.ZP,{valueKey:"name",className:"color-ramp-selector",clearable:!1,value:p,options:f,disabled:c,valueRenderer:b,optionRenderer:b,onChange:function(e){e&&n(e)}})}v.propTypes={value:i().oneOfType([i().string,i().object]),samples:i().number,onChange:i().func,items:i().array,rampFunction:i().func,disabled:i().bool},v.defaultProps={samples:5,onChange:function(){},items:[{name:"global.colors.blue",schema:"sequencial",options:{base:190,range:20}},{name:"global.colors.red",schema:"sequencial",options:{base:10,range:4}},{name:"global.colors.green",schema:"sequencial",options:{base:120,range:4}},{name:"global.colors.brown",schema:"sequencial",options:{base:30,range:4,s:1,v:.5}},{name:"global.colors.purple",schema:"sequencial",options:{base:300,range:4}},{name:"global.colors.random",schema:"qualitative",options:{base:190,range:340,options:{base:10,range:360,s:.67,v:.67}}}],disabled:!1};const g=v},95246:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(20721),o=r.n(n);function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={short:"number",float:"number",double:"number",long:"number",decimal:"number",int:"number"};function f(e){var t=e.Pos;e.registerHelper("hint","geocss",(function(r){var n=r.getCursor(),i=r.getTokenAt(n),a=r.getLineTokens(n.line),c=a&&o()(a.filter((function(e){var t=e.type,r=e.start;return"property"===t&&r<i.start})).map((function(e){return e.string}))),f=e.innerMode(r.getMode(),i.state);if("geocss"!==f.mode.name)return null;var d=i.start,p=n.ch,y=i.string.slice(0,p-d);/[^\w$_-]/.test(y)&&(y="",d=p=n.ch);var m=e.resolveMode("text/geocss")||{},b=m.propertyKeywords,v=m.pseudoProperties,g=m.envKeywords,h=(e.getMode({},"text/geocss")||{}).hintProperties,O={},w=!1,k=f.state.state;"pseudo"===k||"variable-3"===i.type?O=s({},v):"prop"===k?(w=!0,O=b&&b[c]&&b[c].values&&s({},b[c].values)||{}):"variable-2"===i.type?O=s({},g):"filter"===i.type?(w=!0,O=s({},h)):"block"!==k&&"maybeprop"!==k||(O=s({},b));var S=Object.keys(O).reduce((function(e,t){var r=!y||0===t.lastIndexOf(y,0);return[].concat(l(e),l(r&&[t]||[]))}),[]);return(S=0===S.length&&w?Object.keys(O).reduce((function(e,t){return[].concat(l(e),[t])}),[]):l(S)).length>0?{list:S.map((function(e){return{text:e,displayText:e,render:function(e,t,r){var n,o,l=document.createElement("span"),i=(o=(n=O[r.displayText]||{}).localPart,("gml"===n.prefix?"geometry":u[o])||o||"");l.innerHTML=i&&'{<span class="cm-desc">'.concat(i,"</span>} ")||"";var a=document.createElement("span");a.innerText=r.displayText,e.appendChild(l),e.appendChild(a)}}})),from:t(n.line,d),to:t(n.line,p)}:null}))}},30084:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(3506),o=r.n(n),l=r(99094),i=r.n(l);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const f=function(e){e.defineMode("geocss",(function(t){var r,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.indentUnit,s=l.propertyKeywords&&l||e.resolveMode("text/geocss"),c=s.propertyKeywords,f=void 0===c?{}:c,d=s.colorKeywords,p=void 0===d?{}:d,y=s.valueKeywords,m=void 0===y?{}:y,b=s.logicKeywords,v=void 0===b?{}:b,g=s.allowNested,h={},O=function(e,t){return r=t,e},w=function(e){return function(t,r){for(var n=!1,o=t.next();o;){if(o===e&&!n){")"===e&&t.backUp(1);break}n=!n&&"\\"===o,o=t.next()}return(o===e||!n&&")"!==e)&&(r.tokenize=null),O("string","string")}},k=function(e,t){for(var r=!1,n=e.next();n;){if(r&&"/"===n){t.tokenize=null;break}r="*"===n,n=e.next()}return["comment","comment"]},S=function(e,t){var r=e.next();if("@"===r)return e.eat("{")?[null,"interpolation"]:e.match(/^(sd|scale)\b/)?["filter",null]:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]);if("/"===r)return e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"];if('"'===r||"'"===r)return t.tokenize=w(r),t.tokenize(e,t);if("#"===r)return e.eatWhile(/[\w\\\-]/),O("atom","hash");if(/\d/.test(r)||"."===r&&e.eat(/\d/))return e.eatWhile(/[\w.%]/),O("number","unit");if("-"===r){if(/[\d.]/.test(e.peek()))return e.eatWhile(/[\w.%]/),O("number","unit");if(e.match(/^-[\w\\\-]+/))return e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?O("variable-2","variable-definition"):O("variable-2","variable");if(e.match(/^\w+-/))return O("meta","meta")}else{if(/[,+>*\/]/.test(r))return O(null,"select-op");if("."===r&&e.match(/^-?[_a-z][_a-z0-9-]*/i))return O("qualifier","qualifier");if(/[:;{}\[\]\(\)]/.test(r))return O(null,r);if(/[\w\\\-]/.test(r))return e.eatWhile(/[\w\\\-]/),O("property","word")}return O(null,null)};function E(e,t,r){this.type=e,this.indent=t,this.prev=r}var j=function(e,t,r,n){return e.context=new E(r,t.indentation()+(!1===n?0:a),e.context),r},P=function(e){return e.context.prev&&(e.context=e.context.prev),e.context.type},C=function(e,t,r){return h[r.context.type](e,t,r)},I=function(e,t,r,n){for(var o=n||1;o>0;o--)r.context=r.context.prev;return C(e,t,r)},T=function(e){var t=e.current().toLowerCase();n=m.hasOwnProperty(t)?"atom":p.hasOwnProperty(t)?"keyword":"variable"};return h.top=function(e,t,r){if("{"===e)return j(r,t,"block");if("}"===e&&r.context.prev)return P(r);if("hash"===e)n="builtin";else if("word"===e)n="tag";else{if("variable-definition"===e)return"maybeprop";if("interpolation"===e)return j(r,t,"interpolation");if(":"===e)return"pseudo";if(g&&"("===e)return j(r,t,"parens")}return r.context.type},h.block=function(e,t,r){if("word"===e){var l=t.current().toLowerCase();return f.hasOwnProperty(l)?(n="property","maybeprop"):v.hasOwnProperty(i()(l))?(n="logic","maybeprop"):o()(i()(t.string),"[")?(n="filter","maybeprop"):(n+=" error","maybeprop")}return"meta"===e?"block":g||"hash"!==e&&"qualifier"!==e?h.top(e,t,r):(n="error","block")},h.maybeprop=function(e,t,r){return":"===e?j(r,t,"prop"):C(e,t,r)},h.prop=function(e,t,r){if(";"===e)return P(r);if("{"===e&&g)return j(r,t,"propBlock");if("}"===e||"{"===e)return I(e,t,r);if("("===e)return j(r,t,"parens");if("hash"!==e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"===e)T(t);else if("interpolation"===e)return j(r,t,"interpolation")}else n+=" error";return"prop"},h.propBlock=function(e,t,r){return"}"===e?P(r):"word"===e?(n="property","maybeprop"):r.context.type},h.parens=function(e,t,r){return"{"===e||"}"===e?I(e,t,r):")"===e?P(r):"("===e?j(r,t,"parens"):"interpolation"===e?j(r,t,"interpolation"):("word"===e&&T(t),"parens")},h.pseudo=function(e,t,o){return"word"===e?(n="variable-3",o.context.type):C(r,t,o)},h.at=function(e,t,r){return";"===e?P(r):"{"===e||"}"===e?I(e,t,r):("word"===e?n="tag":"hash"===e&&(n="builtin"),"at")},h.interpolation=function(e,t,r){return"}"===e?P(r):"{"===e||";"===e?I(e,t,r):("word"===e?n="variable":"variable"!==e&&"("!==e&&")"!==e&&(n="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",stateArg:null,context:new E("block",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var o=(t.tokenize||S)(e,t);return o&&"object"===u(o)&&(r=o[1],o=o[0]),n=o,t.state=h[t.state](r,e,t),n},indent:function(e,t){var r=e.context,n=t&&t.charAt(0),o=r.indent;return"prop"!==r.type||"}"!==n&&")"!==n||(r=r.prev),r.prev&&("}"!==n||"block"!==r.type&&"top"!==r.type&&"interpolation"!==r.type?(")"===n&&"parens"===r.type||"{"===n&&("at"===r.type||"atBlock"===r.type))&&(o=Math.max(0,r.indent-a),r=r.prev):o=(r=r.prev).indent),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}}));var t={colorKeywords:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],valueKeywords:["round"],pseudoProperties:["mark","shield","stroke","fill","symbol","nth-mark","nth-shield","nth-stroke","nth-fill","nth-symbol"],logicKeywords:["and","or"]};e.defineMIME("text/geocss",s(s({},Object.keys(t).reduce((function(e,r){return s(s({},e),{},c({},r,t[r].reduce((function(e,t){return s(s({},e),{},c({},t,!0))}),{})))}),{})),{},{propertyKeywords:{mark:{values:{"symbol(circle)":!0}},"mark-composite":!0,"mark-mime":!0,"mark-geometry":!0,"mark-size":!0,"mark-rotation":!0,"mark-label-obstacle":!0,"mark-anchor":!0,"mark-offset":!0,"z-index":!0,stroke:!0,"stroke-composite":!0,"stroke-geometry":!0,"stroke-offset":!0,"stroke-mime":!0,"stroke-opacity":!0,"stroke-width":!0,"stroke-size":!0,"stroke-rotation":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-repeat":!0,"stroke-label-obstacle":!0,fill:!0,"fill-composite":!0,"fill-geometry":!0,"fill-mime":!0,"fill-opacity":!0,"fill-size":!0,"fill-rotation":!0,"fill-label-obstacle":!0,"graphic-margin":!0,random:!0,"random-seed":!0,"random-rotation":!0,"random-symbol-count":!0,"random-tile-size":!0,"fill-random":!0,"fill-random-seed":!0,"fill-random-rotation":!0,"fill-random-symbol-count":!0,"fill-random-tile-size":!0,label:!0,"label-geometry":!0,"label-anchor":!0,"label-offset":!0,"label-rotation":!0,"label-z-index":!0,shield:!0,"shield-mime":!0,"font-family":!0,"font-fill":!0,"font-style":!0,"font-weight":!0,"font-size":!0,"halo-radius":!0,"halo-color":!0,"halo-opacity":!0,"label-padding":!0,"label-group":!0,"label-max-displacement":!0,"label-min-group-distance":!0,"label-repeat":!0,"label-all-group":!0,"label-remove-overlaps":!0,"label-allow-overruns":!0,"label-follow-line":!0,"label-max-angle-delta":!0,"label-auto-wrap":!0,"label-force-ltr":!0,"label-conflict-resolution":!0,"label-fit-goodness":!0,"label-priority":!0,"shield-resize":!0,"shield-margin":!0,"label-underline-text":!0,"label-strikethrough-text":!0,"label-char-spacing":!0,"label-word-spacing":!0,"raster-channels":!0,"raster-composite":!0,"raster-geometry":!0,"raster-opacity":!0,"raster-contrast-enhancement":!0,"raster-contrast-enhancement-algorithm":!0,"raster-contrast-enhancement-min":!0,"raster-contrast-enhancement-max":!0,"raster-gamma":!0,"raster-z-index":!0,"raster-color-map":!0,"raster-color-map-type":!0,composite:!0,"composite-base":!0,geometry:!0,"sort-by":!0,"sort-by-group":!0,transform:!0,size:!0,rotation:!0},envKeywords:{sd:{localPart:"env"},scale:{localPart:"env"}},allowNested:!0,name:"geocss"}))}},84342:(e,t,r)=>{"use strict";r.d(t,{m2:()=>Oo,tM:()=>Io,lC:()=>Po});var n=r(24852),o=r.n(n),l=r(71703),i=r(67076),a=r(22222),s=r(60604),c=r(90825),u=r(80416),f=r(96909),d=r(5346),p=r(65539),y=r(82030),m=r(73014),b=r(6724),v=r(32425),g=r(30294),h=r(38064),O=r(93451),w=r(15135),k=r(69235),S=["type"],E=["text"];function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const C=function(e){var t=e.type,r=e.patterns,n=e.paths,l=e.texts,i=e.backgroundColor,a=void 0===i?"#ffffff":i;return o().createElement("svg",{viewBox:"0 0 200 200"},o().createElement("defs",null,r&&r.filter((function(e){return e.icon})).map((function(e){return o().createElement("pattern",{id:e.id,viewBox:"0 0 1 1",width:"15%",height:"15%"},e.icon&&o().createElement("path",e.icon))})),r&&r.filter((function(e){return e.image})).map((function(e){return o().createElement("pattern",{id:e.id,width:"100%",height:"100%"},e.image&&o().createElement("image",e.image))}))),o().createElement("path",{fill:a,d:"M0 0 L200 0 L200 200 L0 200Z"}),n&&n.map((function(e){var r=e.type,n=P(e,S);return"polygon"===(r||t)&&o().createElement("path",j({},n,{d:"M20 20 L180 20 L180 180 L20 180Z"}))||"linestring"===(r||t)&&o().createElement("path",j({},n,{fill:"none",d:"M30 160 L100 40 L170 160"}))||"point"===(r||t)&&o().createElement("path",n)})),l&&l.map((function(e){var t=e.text,r=P(e,E);return o().createElement("text",j({x:"100",y:"100",textAnchor:"middle",alignmentBaseline:"middle"},r),t)})))};function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=(0,O.Z)("filterPlaceholder")(k.Z),D=(0,w.Z)(g.Glyphicon),N=(0,y.Z)((function(e){return 0===e.items.length}),{title:o().createElement(d.Z,{msgId:"styleeditor.filterMatchNotFound"}),glyph:"1-stilo"})(h.Z);var R=r(20721),L=r.n(R),F=r(15402);const z=function(e){var t=e.disabled,r=e.selected,n=e.title,l=e.preview,i=e.previewSrc,a=e.onClick,s=void 0===a?function(){}:a;return o().createElement("div",{className:"ms-square-card".concat(r?" ms-selected":"").concat(t?" ms-disabled":""),onClick:t?null:function(){return s()}},(l||i)&&o().createElement("div",{className:"ms-preview"},l||i&&o().createElement("img",{src:i})),o().createElement("small",null,n))};var Z=r(99534),M=r(94745);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=(0,O.Z)("filterPlaceholder")(k.Z),U=(0,O.Z)("placeholder")(g.FormControl),q=(0,y.Z)((function(e){return 0===e.items.length}),{title:o().createElement(d.Z,{msgId:"styleeditor.filterMatchNotFound"}),glyph:"1-stilo"})(h.Z),V=function(e){var t=e.title,r=e._abstract,n=/^[a-zA-Z0-9\s]*$/,o=t&&null!==t.match(n);return o&&!r||o&&r&&null!==r.match(n)};var G=r(80717);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y=r(93222),H=r(99009),X=r(80643),J=r.n(X),Q=r(33716),ee=r.n(Q),te=r(78795),re=r(8954),ne=(r(76752),r(32095),r(64020),r(43657),r(71707),r(29589),r(4631)),oe=r.n(ne),le=r(67460),ie=r.n(le),ae=r(62346),se=r.n(ae),ce=r(31476),ue=r.n(ce),fe=r(72300),de=r.n(fe),pe=r(37295),ye=r.n(pe),me=r(45697),be=r.n(me),ve=r(29656),ge=r(2576);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(30084).Z(oe()),r(95246).Z(oe());var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(a,e);var t,r,n,l,i=(n=a,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Te(n);if(l){var r=Te(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ce(this,e)});function a(){var e;Ee(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return xe(Ie(e=i.call.apply(i,[this].concat(r))),"state",{}),xe(Ie(e),"onRenderToken",(function(t){var r=t.lineCount();e.inlineWidgets&&e.inlineWidgets.forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e)})),e.inlineWidgets=[],t.doc.iter(0,r,(function(r){var n=r.lineNo();t.getLineTokens(n).forEach((function(r){e.inlineWidgets=e.props.inlineWidgets.reduce((function(o,l){var i=l.type,a=l.style,s=void 0===a?{}:a,c=l.active,u=void 0===c?function(){return!1}:c,f=l.className,d=void 0===f?"":f;if(u(r)){var p=e.getInlineWidget({className:d,token:r,onClick:function(){return e.setState({inlineWidgetType:i,token:r,lineNo:n})},style:de()(s)&&s(r)||s});return t.addWidget({line:n,ch:r.start-1},p,!1),[].concat(ke(o),[p])}return ke(o)}),ke(e.inlineWidgets))}))}))})),xe(Ie(e),"onAutocomplete",(function(t){if(!(t&&t.state&&t.state.completionActive)){var r=t.getCursor(),n=t.getTokenAt(r);if(n.string&&(se()(n.string,"-")||n.string.match(/^[.`\w@]\w*$/))&&n.string.length>0){var o=e.editor&&e.editor.getWrapperElement&&e.editor.getWrapperElement()||null;oe().commands.autocomplete(t,null,{completeSingle:!1,container:o})}}})),xe(Ie(e),"onUpdate",(function(){e.update.cancel(),e.update()})),xe(Ie(e),"getInlineWidget",(function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.token,o=void 0===n?{}:n,l=e.className,i=void 0===l?"":l,a=e.style,s=void 0===a?{}:a,c=document.createElement("div");return c.setAttribute("class","".concat(i," ms-style-editor-inline-widget")),ye()(c.style,s),c.onclick=function(){return r(we({},o))},c})),e}return t=a,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.setState({code:this.props.code})}},{key:"UNSAFE_componentWillUpdate",value:function(e){if(!ue()(this.props.error,e.error)&&(this.marker&&(this.marker.clear(),this.marker=null),e.error)){var t=this.editor.lineCount(),r={line:e.error.line-1||0,ch:0},n=e.error.line?{line:t,ch:0}:this.editor.getCursor();this.marker=this.editor.markText(r,n,{className:"ms-style-editor-error"})}}},{key:"render",value:function(){var e=this;return o().createElement(p.Z,{className:"ms-style-editor",style:this.props.style,header:o().createElement("div",{className:"ms-style-editor-head"},this.props.loading&&o().createElement(v.Z,{className:"ms-style-editor-loader",size:20}),this.props.error&&o().createElement(ge.Z,{glyph:"exclamation-mark",bsStyle:"danger",placement:"right",title:o().createElement(d.Z,{msgId:"styleeditor.validationErrorTitle"}),text:this.props.error.line?this.props.error.message:o().createElement(d.Z,{msgId:"styleeditor.genericValidationError"})}))},o().createElement(ve.Controlled,{key:"style-editor",value:this.state.code,editorDidMount:function(t){e.onRenderToken(t),e.editor=t,t.on("inputRead",e.onAutocomplete),e.update=ie()((function(){e.props.onChange(e.state.code)}),e.props.waitTime),oe().extendMode(e.props.mode,{hintProperties:e.props.hintProperties})},editorWillUnmount:function(t){return t.off("inputRead",e.onAutocomplete)},onBeforeChange:function(t,r,n){return e.setState({code:n})},onChange:function(t){e.onRenderToken(t),e.onUpdate()},options:{theme:this.props.theme,mode:this.props.mode,lineNumbers:!0,styleSelectedText:!0,indentUnit:2,tabSize:2}}),this.state.token&&o().createElement("div",{className:"ms-inline-widget-container"},o().createElement("div",null,o().createElement("button",{className:"btn close square-button",onClick:function(){e.state.value&&e.editor.replaceRange(e.state.value,{line:e.state.lineNo,ch:e.state.token.start},{line:e.state.lineNo,ch:e.state.token.end}),e.setState({token:null,inlineWidgetType:null,lineNo:null,value:null})}})),o().createElement("div",null,this.props.inlineWidgets.filter((function(t){return t.type===e.state.inlineWidgetType})).map((function(t){var r=t.Widget;return o().createElement(r,{value:e.state.value,token:e.state.token,onChange:function(t){return e.setState({value:t})}})})))))}}])&&je(t.prototype,r),a}(o().Component);xe(Ae,"propTypes",{mode:be().string,theme:be().string,style:be().object,code:be().string,onChange:be().func,waitTime:be().number,hintProperties:be().object,error:be().object,inlineWidgets:be().array,loading:be().bool}),xe(Ae,"defaultProps",{mode:"geocss",theme:"lesser-dark",style:{},code:"",onChange:function(){},waitTime:1e3,hintProperties:{},inlineWidgets:[]});const De=Ae;var Ne=r(50542),Re=r.n(Ne),Le=r(70475),Fe=r.n(Le),ze=r(10511),Ze=r.n(ze),Me=r(82920),We=r.n(Me),Be=r(33941),_e=r.n(Be),$e=r(12961),Ue=r(1036),qe=r(98360),Ve=r(43129),Ge=r(84006),Ke=r.n(Ge);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?tt(e):t}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(a,e);var t,r,n,l,i=(n=a,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rt(n);if(l){var r=rt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return et(this,e)});function a(){var e;Xe(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return nt(tt(e=i.call.apply(i,[this].concat(r))),"styleRenderer",(function(t,r,n){var l=e.props.styleRendererPattern||o().createElement("svg",{style:{height:33,width:"100%"},viewBox:"0 0 300 25"},o().createElement("path",{stroke:"#333333",strokeWidth:e.props.defaultStrokeWidth,strokeDasharray:n||t.value,d:"M0 12.5, 300 12.5"}));return o().createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",paddingRight:25}},l)})),e}return t=a,(r=[{key:"render",value:function(){var e,t=this,r=Ke()(this.props.dashArray||"1 0"," "),n=this.props.options.find((function(e){return e.value===r}))?this.props.options:[{value:r}].concat(function(e){if(Array.isArray(e))return He(e)}(e=this.props.options)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return He(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?He(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=this.props.creatable?Ve.ZP.Creatable:Ve.ZP;return o().createElement(l,{options:n,disabled:this.props.disabled,menuPlacement:this.props.menuPlacement,clearable:this.props.clearable,optionRenderer:this.props.optionRenderer||this.styleRenderer,valueRenderer:this.props.valueRenderer||this.styleRenderer,value:r,isValidNewOption:this.props.isValidNewOption,onChange:function(e){if(e){var r=e.value.split(" ");t.props.onChange(r)}}})}}])&&Je(t.prototype,r),a}(o().Component);nt(ot,"propTypes",{dashArray:be().array,menuPlacement:be().string,clearable:be().bool,value:be().string,optionRenderer:be().func,styleRendererPattern:be().node,valueRenderer:be().func,disabled:be().bool,onChange:be().func,options:be().array,creatable:be().bool,isValidNewOption:be().func,defaultStrokeWidth:be().number}),nt(ot,"defaultProps",{dashArray:["1","0"],menuPlacement:"top",clearable:!1,onChange:function(){},options:[{value:"1 0"},{value:"10 50 30"},{value:"6 6"},{value:"20 20"},{value:"30 30"}],defaultStrokeWidth:4});const lt=ot;var it=r(9886),at=r.n(it),st=r(20);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?yt(e):t}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}at()();var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(a,e);var t,r,n,l,i=(n=a,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mt(n);if(l){var r=mt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return pt(this,e)});function a(){var e;ut(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return bt(yt(e=i.call.apply(i,[this].concat(r))),"renderClasses",(function(){return e.props.classification.map((function(t,r){return o().createElement(g.FormGroup,{key:r},o().createElement($e.Z,{key:t.color,color:t.color,disableAlpha:!0,format:"hex",onChangeColor:function(t){return e.updateColor(r,t)}}),o().createElement(st.NumberPicker,{format:"- ###.###",value:t.min,onChange:function(t){return e.updateMin(r,t)}}),o().createElement(st.NumberPicker,{format:"- ###.###",value:t.max,precision:3,onChange:function(t){return e.updateMax(r,t)}}))}))})),bt(yt(e),"updateColor",(function(t,r){if(r){var n=e.props.classification.map((function(e,n){return n===t?ye()({},e,{color:r}):e}));e.props.onUpdateClasses(n,"color")}})),bt(yt(e),"updateMin",(function(t,r){if(!isNaN(r)){var n=e.props.classification.map((function(e,n){return n===t?ye()({},e,{min:r}):n===t-1?ye()({},e,{max:r}):e}));e.props.onUpdateClasses(n,"interval")}})),bt(yt(e),"updateMax",(function(t,r){if(!isNaN(r)){var n=e.props.classification.map((function(e,n){return n===t?ye()({},e,{max:r}):n===t+1?ye()({},e,{min:r}):e}));e.props.onUpdateClasses(n,"interval")}})),e}return t=a,(r=[{key:"render",value:function(){return o().createElement("div",{className:"thema-classes-editor "+this.props.className},this.renderClasses())}}])&&ft(t.prototype,r),a}(o().Component);bt(vt,"propTypes",{classification:be().array,onUpdateClasses:be().func,className:be().string}),bt(vt,"defaultProps",{classification:[],onUpdateClasses:function(){},className:""});const gt=vt,ht=function(e){var t=e.children,r=e.label,n=e.tools,l=e.divider,i=e.invalid,a=e.warning,s=e.disabled;if(l)return o().createElement("div",{className:"ms-symbolizer-field-divider"});var c=a?" ms-symbolizer-value-warning":"",u=i?" ms-symbolizer-value-invalid":"",f=s?" ms-symbolizer-value-disabled":"";return o().createElement("div",{className:"ms-symbolizer-field"},o().createElement("div",{className:"ms-symbolizer-label"},o().createElement(d.Z,{msgId:r})),o().createElement("div",{className:"ms-symbolizer-value"+u+f+c,onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},t,o().createElement("div",{className:"ms-symbolizer-tools"},n)))};var Ot=r(80307),wt=r(37275),kt=["open","onOpen"];function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){Pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return It(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?It(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tt(e){var t=e.containerNode,r=void 0===t?function(){return document.querySelector("."+((0,wt.u8)("themePrefix")||"ms2")+" > div")||document.body}:t,l=e.placement,i=e.content,a=e.children,s=e.open,c=e.onOpen,u=void 0===c?function(){}:c,f=10,d=de()(r)?r():r,p=(0,n.useRef)({picker:{opacity:0},arrow:{opacity:0},overlay:{}}),y=Ct((0,n.useState)(p.current),2),m=y[0],b=y[1],v=(0,n.useRef)(),g=(0,n.useRef)(),h=(0,n.useRef)(),O=(0,n.useCallback)((function(){var e,t,r,n,o,i;if(!s)return p.current;var a={picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}};if("center"===l)return a;var c=null==v||null===(e=v.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e),u=null==g||null===(r=g.current)||void 0===r||null===(n=r.getBoundingClientRect)||void 0===n?void 0:n.call(r),d=null==h||null===(o=h.current)||void 0===o||null===(i=o.getBoundingClientRect)||void 0===i?void 0:i.call(o);if(c&&u&&d){var y,m,b,O,w=d.width,k=d.height,S=u.top,E=u.left,j=u.width,P=u.height,C=c.top,I=c.left,T=c.width,x=c.height,A=[I+T/2,C+x/2],D=A[0]-E>w/2+f&&E+j-A[0]>w/2+f,N=A[1]-S>k/2+f&&S+P-A[1]>k/2+f,R={top:{filter:function(){return D&&C-S>k+f},styles:function(){return{picker:{position:"absolute",top:C-k-f-S,left:I+T/2-w/2-E},overlay:{},arrow:{top:C+2,left:I+T/2,transform:"translate(-50%, -50%) rotateZ(270deg) translateX(50%)"}}}},right:{filter:function(){return N&&E+j-(I+T)>w+f},styles:function(){return{picker:{position:"absolute",top:C-k/2-S,left:I+T+f-E},overlay:{},arrow:{top:C+x/2,left:I+T-2,transform:"translate(-50%, -50%) rotateZ(0deg) translateX(50%)"}}}},bottom:{filter:function(){return D&&S+P-(C+x)>k+f},styles:function(){return{picker:{position:"absolute",top:C+x+f-S,left:I+T/2-w/2-E},overlay:{},arrow:{top:C+x-2,left:I+T/2,transform:"translate(-50%, -50%) rotateZ(90deg) translateX(50%)"}}}},left:{filter:function(){return N&&I-E>w+f},styles:function(){return{picker:{position:"absolute",top:C-k/2-S,left:I-w-f-E},overlay:{},arrow:{top:C+x/2,left:I+2,transform:"translate(-50%, -50%) rotateZ(180deg) translateX(50%)"}}}}};if(null!=R&&null!==(y=R[l])&&void 0!==y&&null!==(m=y.filter)&&void 0!==m&&m.call(y))return null==R||null===(b=R[l])||void 0===b||null===(O=b.styles)||void 0===O?void 0:O.call(b);if("top"!==l&&R.top.filter())return R.top.styles();if("right"!==l&&R.right.filter())return R.right.styles();if("bottom"!==l&&R.bottom.filter())return R.bottom.styles();if("left"!==l&&R.left.filter())return R.left.styles()}return a}),[l,s]);(0,n.useEffect)((function(){b(O());var e=function(){return b(O())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[O]);var w=(0,n.useRef)();return w.current={open:s},(0,n.useEffect)((function(){function e(e){var t=h.current,r=t&&e.target&&t.contains(e.target);if(w.current.open&&!r){var n,o,l=e.clientX,i=e.clientY,a=(null==h||null===(n=h.current)||void 0===n||null===(o=n.getBoundingClientRect)||void 0===o?void 0:o.call(n))||{},s=a.left,c=a.top,f=a.width,d=a.height;void 0!==l&&void 0!==i&&!(l>=s&&l<=s+f&&i>=c&&i<=c+d)&&u(!1)}}return window.addEventListener("click",e,!0),window.addEventListener("wheel",e,!0),window.addEventListener("scroll",e,!0),function(){window.removeEventListener("click",e,!0),window.removeEventListener("wheel",e,!0),window.removeEventListener("scroll",e,!0)}}),[]),o().createElement(o().Fragment,null,o().createElement("div",{className:"ms-popover",ref:v},(0,n.cloneElement)(a,{onClick:function(e){e.stopPropagation(),u(!s)}})),d&&s?(0,Ot.createPortal)(o().createElement("div",{className:"ms-popover-overlay",ref:g,style:jt({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",top:0,left:0,pointerEvents:"none"},null==m?void 0:m.overlay)},o().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0}}),o().createElement("div",{ref:h,style:jt({pointerEvents:"auto"},null==m?void 0:m.picker)},i),o().createElement("div",{className:"ms-popover-arrow",style:jt({position:"absolute",borderTop:"".concat(9,"px solid transparent"),borderBottom:"".concat(9,"px solid transparent"),borderRight:"".concat(9,"px solid #ffffff"),filter:"drop-shadow(-4px 2px 4px rgba(0, 0, 0, 0.2))"},null==m?void 0:m.arrow)})),d):null)}const xt=function(e){var t=e.open,r=e.onOpen,l=void 0===r?function(){}:r,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,kt),a=Ct((0,n.useState)(t),2),s=a[0],c=a[1];return o().createElement(Tt,St({},i,{open:s,onOpen:function(e){c(e),l(e)}}))},At=[{value:"Circle",label:"styleeditor.circle",preview:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Square",label:"styleeditor.square",preview:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Triangle",label:"styleeditor.triangle",preview:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Star",label:"styleeditor.star",preview:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Cross",label:"styleeditor.cross",preview:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"X",label:"styleeditor.x",preview:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"shape://vertline",label:"styleeditor.verticalLine",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://horline",label:"styleeditor.horizontalLine",preview:{type:"point",paths:[{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://slash",label:"styleeditor.slash",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://backslash",label:"styleeditor.backslash",preview:{type:"point",paths:[{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://dot",label:"styleeditor.dot",preview:{type:"point",paths:[{d:"M 95,100 105,100 Z",stroke:"#333333",strokeWidth:10,fill:"none"}]}},{value:"shape://plus",label:"styleeditor.plus",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://times",label:"styleeditor.times",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://oarrow",label:"styleeditor.openArrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://carrow",label:"styleeditor.closedArrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}}];var Dt=r(38560),Nt=(0,w.Z)(Dt.Z);const Rt=function(e){var t=e.value,r=e.config,n=void 0===r?{}:r,l=e.onChange,i=void 0===l?function(){}:l,a=n.options,s=void 0===a?At:a,c=s.find((function(e){return e.value===t}));return o().createElement(xt,{content:o().createElement("div",{className:"ms-mark-list"},o().createElement("ul",null,s.map((function(e){return o().createElement("li",{key:e.value},o().createElement(Nt,{className:"ms-mark-preview",active:e.value===t,onClick:function(){return i(e.value)}},o().createElement(C,e.preview)))}))))},o().createElement(Nt,{className:"ms-mark-preview"},c&&o().createElement(C,c.preview)))},Lt=function(e){var t=e.label,r=void 0===t?"styleeditor.band":t,n=e.value,l=e.bands,i=e.onChange,a=e.enhancementType;return o().createElement(o().Fragment,null,o().createElement(ht,{label:r},o().createElement(Ve.ZP,{clearable:!1,options:l,value:n,onChange:function(e){return i("band",e.value)}})),o().createElement(ht,{label:"styleeditor.contrastEnhancement"},o().createElement(Ve.ZP,{clearable:!1,options:[{label:o().createElement(d.Z,{msgId:"styleeditor.none"}),value:"none"},{label:o().createElement(d.Z,{msgId:"styleeditor.normalize"}),value:"normalize"},{label:o().createElement(d.Z,{msgId:"styleeditor.histogram"}),value:"histogram"}],value:a||"none",onChange:function(e){var t="none"===e.value?void 0:e.value;i("enhancementType",t)}})))};function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Mt=(0,r(97111).Z)("onChange","value")((0,O.Z)("placeholder")((function(e){return o().createElement(g.FormControl,Zt({},e,{onChange:function(t){return e.onChange(t.target.value)}}))}))),Wt=(0,w.Z)(g.Glyphicon);function Bt(e){var t=e.value,r=e.onChange,l=e.onLoad,i=(0,n.useRef)(!0);(0,n.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]);var a=Ft((0,n.useState)(!1),2),s=a[0],c=a[1],u=Ft((0,n.useState)(!0),2),f=u[0],d=u[1],p=Ft((0,n.useState)(t),2),y=p[0],m=p[1],b=function(e,t){m(e),c(!0),d(!1),(0,H.ZF)(e).then((function(t){if(i.current){var r=!1;t.isBase64&&(r={type:"warning",messageId:"imageSrcNotSupportedBase64Image"}),d(r),c(!1),l(r,e)}})).catch((function(t){if(i.current){var r=t.isBase64||"imageSrcLoadError"!==t.messageId?{type:"error",messageId:t.messageId}:{type:"warning",messageId:t.messageId};d(r),c(!1),l(r,e)}})),t&&r(e)},h=(0,n.useRef)(t);return(0,n.useEffect)((function(){b(h.current)}),[]),o().createElement("div",{className:"ms-style-editor-icon-input",style:{position:"relative",display:"flex",alignItems:"center"}},o().createElement(g.FormGroup,{style:{flex:1}},o().createElement(Mt,{style:{paddingRight:26},placeholder:"styleeditor.placeholderEnterImageUrl",value:t,debounceTime:300,onChange:function(e){return b(e,!0)}})),o().createElement("div",{style:{position:"absolute",minWidth:26,minHeight:26,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},y&&!f&&!s&&o().createElement("div",{className:"ms-style-editor-icon-input-image",style:{position:"absolute",margin:2,width:"calc(100% - 2px)",height:"calc(100% - 2px)",backgroundImage:"url(".concat(y,")"),backgroundPosition:"center",backgroundSize:"contain"}}),f&&o().createElement(Wt,{glyph:"exclamation-sign",tooltipId:"styleeditor.".concat(f.messageId)}),s&&o().createElement(v.Z,{size:20})))}Bt.propTypes={value:be().bool,onChange:be().node,onLoad:be().object,onError:be().object},Bt.defaultProps={value:"",onChange:function(){},onLoad:function(){},onError:function(){}};const _t=Bt;var $t=["label"],Ut=["label","value","config","onChange"],qt=["label","value","config","onChange"];function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gt(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||Yt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){if(e){if("string"==typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(e,t):void 0}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){er(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function er(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tr=(0,O.Z)("placeholder")(g.FormControl),rr=(0,O.Z)(["placeholder","noResultsText"])(Ve.ZP),nr=(0,O.Z)(["placeholder","noResultsText"])(Ve.ZP.Creatable),or={color:function(e){var t=e.label,r=e.config,l=void 0===r?{}:r,i=e.value,a=e.onChange,s=void 0===a?function(){}:a,c=e.disableAlpha,u=(0,n.useRef)({value:i});if(u.current={value:i},"pattern"==(ee()(i)&&i.kind?"pattern":"solid")){var f=((null==l?void 0:l.getGroupParams(i.kind))||{}).params,d=void 0===f?{}:f,p=(null==l?void 0:l.getGroupConfig(i.kind))||{},y=i;return o().createElement(o().Fragment,null,o().createElement(lr,{properties:y,params:p.omittedKeys?Ze()(d,p.omittedKeys):d,config:{disableAlpha:p.disableAlpha},onChange:function(e){return s(Qt(Qt({},u.current.value),e))}}),o().createElement(ht,{divider:!0}))}return o().createElement(ht,{label:t},o().createElement($e.Z,{color:i,line:l.stroke,disableAlpha:l.disableAlpha||c,onChangeColor:function(e){return e&&s(e)}}))},slider:function(e){var t=e.label,r=e.value,n=e.disabled,l=e.config,i=void 0===l?{}:l,a=e.onChange,s=void 0===a?function(){}:a;return o().createElement(ht,{label:t,disabled:n},o().createElement("div",{className:"mapstore-slider with-tooltip",onClick:function(e){e.stopPropagation()}},o().createElement(Ue.Z,{start:[r],disabled:n,tooltips:[!0],format:i.format,range:i.range||{min:0,max:10},onChange:function(e){return s(e)}})))},input:function(e){var t=e.label,r=e.value,n=e.config,l=void 0===n?{}:n,i=e.onChange,a=void 0===i?function(){}:i;return o().createElement(ht,{label:t},o().createElement(g.FormGroup,null,o().createElement(tr,{type:l.type||"text",value:r,placeholder:"styleeditor.placeholderInput",onChange:function(e){return a(e.target.value)}})))},toolbar:function(e){var t=e.label,r=e.value,n=e.onChange,l=void 0===n?function(){}:n,i=e.config,a=void 0===i?{}:i,s=e.disabled;return o().createElement(ht,{label:t,disabled:s},o().createElement(G.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs"},buttons:(a.options||[]).map((function(e){var t=e.glyph,n=e.label,i=e.labelId,a=e.tooltipId,c=e.value;return{glyph:t,tooltipId:a,disabled:s,text:i?o().createElement(d.Z,{msgId:i}):n,active:c===r,onClick:function(){return l(r===c?void 0:c)}}}))}))},mark:function(e){var t=e.label,r=Xt(e,$t);return o().createElement(ht,{label:t},o().createElement(Rt,r))},image:function(e){var t=e.label,r=e.value;!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e.config);var l=e.onChange,i=Kt((0,n.useState)(!1),2),a=i[0],s=i[1],c=ee()(r)?r.src:r;return o().createElement(ht,{label:t,invalid:!("error"!==(null==a?void 0:a.type)),warning:!("warning"!==(null==a?void 0:a.type))},o().createElement(_t,{label:t,value:c,onChange:function(e){l(e),s(!1)},onLoad:function(e,t){s(e),"error"===e.type&&l({src:t,errorId:e.messageId})}}))},select:function(e){var t=e.label,r=e.value,l=e.config,i=l.getOptions,a=void 0===i?function(){return[]}:i,s=l.selectProps,c=void 0===s?{}:s,u=l.isValid,f=e.onChange,p=Xt(e,Ut),y=c.creatable,m=c.clearable,b=void 0!==m&&m,v=c.multi;function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=e.map((function(e){return e.value})),n=(null==t?void 0:t.value)&&-1===r.indexOf(t.value);return n?[t].concat(Gt(e)):e}function h(e){return r?[{value:r,label:r}].reduce(g,e):e}var O=a(p),w=Kt((0,n.useState)(h(O)),2),k=w[0],S=w[1];(0,n.useEffect)((function(){S(h(O))}),[null==O?void 0:O.length]);var E=y?nr:rr,j=!u||u({value:r});return o().createElement(ht,{label:t,invalid:!j},o().createElement(E,Vt({clearable:b,placeholder:"styleeditor.selectPlaceholder",noResultsText:"styleeditor.noResultsSelectInput"},c,{options:k.map((function(e){return Qt(Qt({},e),{},{label:e.labelId?o().createElement(d.Z,{msgId:e.labelId}):e.label})})),value:r,onChange:function(e){return v?f(e.length>0?e.map((function(e){return e.value})):void 0):(S(g(k,e)),f(e.value))}})))},colorRamp:function(e){var t=e.label,r=e.value,n=e.config,l=n.samples,i=void 0===l?5:l,a=n.getOptions,s=void 0===a?function(){return[]}:a,c=n.rampFunction,u=void 0===c?function(e){return e.colors}:c,f=e.onChange,d=s(Xt(e,qt));return o().createElement(ht,{label:t},o().createElement(qe.Z,{items:d,rampFunction:u,samples:i,value:{name:r},onChange:function(e){return f(e.name)}}))},colorMap:function(e){var t=e.value,r=e.onChange;return o().createElement("div",{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o().createElement(gt,{classification:t,onUpdateClasses:function(e,t){return r({classification:e,type:t})}}))},channel:function(e){var t,r,n,l=e.value,i=e.onChange,a=e.bands,s=l.channelSelection,c=s?s.grayChannel?"gray":"rgb":"auto",u=(a||[]).map((function(e){return{label:e,value:e}}));if("rgb"===c)return Object.keys(s).map((function(e){var t,r,n=null===(t=s[e])||void 0===t?void 0:t.sourceChannelName,a=null===(r=s[e])||void 0===r?void 0:r.contrastEnhancement;return o().createElement(o().Fragment,null,o().createElement(Lt,{key:e,value:n,bands:u,label:"styleeditor."+e,enhancementType:(null==a?void 0:a.enhancementType)||"none",onChange:function(t,r){return"band"===t?i({contrastEnhancement:{},channelSelection:Qt(Qt({},l.channelSelection),{},er({},e,Qt(Qt({},l.channelSelection[e]),{},{sourceChannelName:r})))}):"enhancementType"===t?i({contrastEnhancement:{},channelSelection:Qt(Qt({},l.channelSelection),{},er({},e,Qt(Qt({},l.channelSelection[e]),{},{contrastEnhancement:Qt(Qt({},s[e].contrastEnhancement),{},{enhancementType:r})})))}):null}}),o().createElement(ht,{key:e+"-divider",divider:!0}))}));var f=void 0===(null==s||null===(t=s.grayChannel)||void 0===t?void 0:t.sourceChannelName)?"auto":null==s||null===(r=s.grayChannel)||void 0===r?void 0:r.sourceChannelName,p="auto"===c?l.contrastEnhancement:null==s||null===(n=s.grayChannel)||void 0===n?void 0:n.contrastEnhancement;return o().createElement(Lt,{label:"styleeditor.grayChannel",value:f,bands:[{label:o().createElement(d.Z,{msgId:"styleeditor.channelAuto"}),value:"auto"}].concat(Gt(u)),enhancementType:(null==p?void 0:p.enhancementType)||"none",onChange:function(e,t){return"band"===e?i("auto"===t?Qt(Qt({},l),{},{channelSelection:void 0}):{contrastEnhancement:{},channelSelection:{grayChannel:Qt(Qt({contrastEnhancement:{}},null==s?void 0:s.grayChannel),{},{sourceChannelName:t})}}):"enhancementType"===e?i("auto"===c?{channelSelection:void 0,contrastEnhancement:Qt(Qt({},l.contrastEnhancement),{},{enhancementType:t})}:{contrastEnhancement:{},channelSelection:Object.keys(s).reduce((function(e,r){return Qt(Qt({},e),{},er({},r,Qt(Qt({},s[r]),{},{contrastEnhancement:Qt(Qt({},s[r].contrastEnhancement),{},{enhancementType:t})})))}),{})}):null}})},dash:function(e){var t=e.label,r=e.value,n=e.onChange,l=e.config.options;return o().createElement(ht,{label:t},o().createElement(lt,{dashArray:r,onChange:n,options:l,defaultStrokeWidth:2,isValidNewOption:function(e){return!!e.label&&!e.label.split(" ").find((function(e){return _e()(parseFloat(e))}))},creatable:!0}))}};function lr(e){var t=e.properties,r=e.params,l=e.config,i=e.onChange,a=(0,n.useRef)({properties:t});return a.current={properties:t},o().createElement(o().Fragment,null,Object.keys(r).map((function(e){var n=r[e]||{},s=n.type,c=n.setValue,u=n.getValue,f=n.isDisabled,d=n.config,p=n.label,y=n.key||e,m=or[s],b=c&&c(t[y],a.current.properties);return m&&o().createElement(m,Vt({},l,{key:y,label:p||y,config:d,disabled:f&&f(t[y],a.current.properties),value:We()(b)?t[y]:b,onChange:function(e){return i(u&&u(e,a.current.properties)||e)}}))})))}const ir=lr;var ar=r(84110),sr=r.n(ar),cr=r(31071);function ur(e){return function(e){if(Array.isArray(e))return fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mr=(0,w.Z)(Dt.Z),br=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pr(pr({},t),{},(yr(e={},r.fieldName,r.fieldValue),yr(e,"type",r.fieldType),yr(e,"fieldOptions",pr(pr({},t.fieldOptions),{},{currentPage:void 0===r.fieldOptions.currentPage?1:r.fieldOptions.currentPage})),e));return"attribute"===r.fieldName?pr(pr({},n),{},{value:"string"===r.fieldType?"":null,operator:""}):"operator"===r.fieldName?pr(pr({},n),{},{value:null}):n},vr=function(e){var t=e.filterObj,r=void 0===t?{groupFields:[{id:1,logic:"OR",index:0}]}:t,n=e.attributes,l=void 0===n?[]:n,i=e.groupLevels,a=void 0===i?0:i,s=e.onChange,c=void 0===s?function(){}:s,u=r.groupFields,f=r.filterFields;return o().createElement("div",{className:"ms-style-rule-filter"},o().createElement(cr.Z,{attributes:l,filterFields:f,groupFields:u,autocompleteEnabled:!1,groupLevels:a,withContainer:!1,listOperators:["="],stringOperators:["=","<>","like","isNull"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>"],logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"}],actions:{onAddGroupField:function(e,t){var r={id:(new Date).getTime(),logic:"OR",groupId:e,index:t+1};c({filterFields:f,groupFields:u?[].concat(ur(u),[r]):[r]})},onAddFilterField:function(e){var t={rowId:(new Date).getTime(),groupId:e,attribute:null,operator:"",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};c({filterFields:f?[].concat(ur(f),[t]):[t],groupFields:u})},onRemoveFilterField:function(e){c({filterFields:f.filter((function(t){return t.rowId!==e})),groupFields:u})},onUpdateFilterField:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};c({filterFields:f.map((function(l){return l.rowId===e?br(l,{rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}):l})),groupFields:u})},onUpdateExceptionField:function(e,t){c({filterFields:f.map((function(r){return r.rowId===e?pr(pr({},r),{},{exception:t}):r})),groupFields:u})},onUpdateLogicCombo:function(e,t){c({filterFields:f,groupFields:u.map((function(r){return r.id===e?pr(pr({},r),{},{logic:t}):r}))})},onRemoveGroupField:function(e){c({filterFields:f.filter((function(t){return t.groupId!==e})),groupFields:u.filter((function(t){return t.id!==e}))})},onChangeCascadingValue:function(){}}}))};function gr(e){var t=e.value,r=e.hide,n=e.attributes,l=e.onChange,i=e.placement,a=void 0===i?"right":i;return r||!n||0===n.length?null:o().createElement(xt,{placement:a,content:o().createElement(vr,{filterObj:t,attributes:n,onChange:function(e){return l({filter:e})}})},o().createElement(mr,{className:"square-button-md no-border",active:!!t,tooltipId:"styleeditor.openFilterBuilder"},o().createElement(g.Glyphicon,{glyph:"filter"})))}function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kr(e,t){if(e){if("string"==typeof e)return Sr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sr(e,t):void 0}}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Er=(0,O.Z)(["placeholder","noResultsText"])(Ve.ZP.Creatable),jr=(0,w.Z)(Dt.Z);function Pr(e){var t=e.label,r=e.currentZoom;return o().createElement("span",null,t,r&&o().createElement(o().Fragment,null," ",o().createElement(g.Glyphicon,{glyph:"arrow-left"})))}function Cr(e){var t=e.label,r=e.value,n=e.options,l=e.isValidNewOption,i=e.onChange;return o().createElement(ht,{label:t},o().createElement(Er,{placeholder:"styleeditor.selectScale",noResultsText:"styleeditor.noResultScales",value:r,options:n,optionRenderer:Pr,valueRenderer:Pr,isValidNewOption:function(e){if(e.label){var t=parseFloat(e.label);return!_e()(t)&&l(t)}return!1},onChange:function(e){var t=(null==e?void 0:e.value)&&parseFloat(e.value);i(_e()(t)?void 0:t)}}))}function Ir(e){var t=e.value,r=e.zoom,l=e.scales,i=void 0===l?[]:l,a=e.onChange;function s(e,t){var r,n=e.map((function(e){return e.value}));return t&&-1===n.indexOf(t)?[{value:t}].concat((r=e,function(e){if(Array.isArray(e))return Sr(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||kr(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).sort((function(e,t){return e.value>t.value?-1:1})):e}var c,u,f=(c=(0,n.useState)(function(e){var r=e.map((function(e,t){return{value:e,zoom:t}})),n=[t.min,t.max].filter((function(e){return void 0!==e}));return 0===n.length?r:n.reduce(s,r)}(i)),u=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(c,u)||kr(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],p=f[1];return o().createElement("div",{className:"ms-style-rule-scale"},o().createElement(Cr,{label:"styleeditor.maxScaleDenominator",value:t.max,options:d.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.min&&e.value<=t.min}})),isValidNewOption:function(e){return e>=t.min},onChange:function(e){a(Or(Or({},t),{},{max:e})),p(s(d,e))}}),o().createElement(Cr,{label:"styleeditor.minScaleDenominator",value:t.min,options:d.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.max&&e.value>=t.max}})),isValidNewOption:function(e){return e<=t.max},onChange:function(e){a(Or(Or({},t),{},{min:e})),p(s(d,e))}}))}function Tr(e){var t=e.value,r=void 0===t?{}:t,n=e.scales,l=void 0===n?[]:n,i=e.zoom,a=e.hide,s=e.onChange,c=e.placement,u=void 0===c?"right":c;return a?null:o().createElement(xt,{placement:u,content:o().createElement(Ir,{value:r,zoom:i,scales:l,onChange:function(e){return s({scaleDenominator:e})}})},o().createElement(jr,{className:"square-button-md no-border",tooltipId:"styleeditor.openScaleDenominator",active:void 0!==r.min||void 0!==r.max},o().createElement(g.Glyphicon,{glyph:"1-ruler"})))}function xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nr=function(e){var t=e.ruleBlock,r=e.symbolizerBlock;return"Raster"!==e.kind?[{value:"Simple",labelId:"styleeditor.simpleStyle",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Ar(Ar({},e.deaultProperties),{},{symbolizerId:sr()()})]}}},{value:"Classification",labelId:"styleeditor.classificationStyle",onSelect:function(e){var r=e.ruleId,n=e.symbolizerKind;return Ar(Ar(Ar({},e.deaultProperties),t.Classification.deaultProperties),{},{ruleId:r,symbolizerKind:n})}},{value:"Mark",labelId:"styleeditor.patternMarkStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.deaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[Ar(Ar({},n),{},Dr({symbolizerId:sr()(),fill:void 0},o,Ar({},r.Mark.deaultProperties)))]}}},{value:"Icon",labelId:"styleeditor.patternIconStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.deaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[Ar(Ar({},n),{},Dr({symbolizerId:sr()(),fill:void 0},o,Ar({},r.Icon.deaultProperties)))]}}}]:[{value:"Gray",labelId:"styleeditor.singleBand",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Ar(Ar({},r.Raster.deaultProperties),{},{symbolizerId:sr()()})]}}},{value:"RGB",labelId:"styleeditor.rgbaBands",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Ar(Ar({},r.Raster.deaultProperties),{},{channelSelection:{redChannel:{sourceChannelName:void 0,contrastEnhancement:{}},greenChannel:{sourceChannelName:void 0,contrastEnhancement:{}},blueChannel:{sourceChannelName:void 0,contrastEnhancement:{}}},symbolizerId:sr()()})]}}},{value:"PseudoColor",labelId:"styleeditor.pseudoColor",onSelect:function(e){var r=e.ruleId;return Ar(Ar({},t.Raster.deaultProperties),{},{ruleId:r})}}]},Rr=function(e){var t=e.ruleKind,r=e.graphic,n=e.symbolizerKind,o=e.channelSelection;return"Raster"===t?"PseudoColor":"Raster"===n?null!=o&&o.redChannel?"RGB":"Gray":void 0!==t?t:null!=r&&r.kind?null==r?void 0:r.kind:"Simple"};function Lr(e){var t,r,n=e.ruleKind,l=e.symbolizerKind,i=e.ruleId,a=e.graphic,s=e.channelSelection,c=e.hide,u=e.ruleBlock,f=e.symbolizerBlock,p=e.getSelected,y=void 0===p?Rr:p,m=e.getOptions,b=void 0===m?Nr:m,v=e.onSelect,h=b({ruleBlock:u,symbolizerBlock:f,kind:l}),O=l?f[l]:{},w=O.deaultProperties,k=O.params,S=void 0===k?{}:k,E=null==S||null===(t=S.color)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.graphicKey,j=y({ruleKind:n,symbolizerKind:l,graphic:a,channelSelection:s});return c?null:o().createElement(g.DropdownButton,{className:"square-button-md no-border",noCaret:!0,pullRight:!0,title:o().createElement(g.Glyphicon,{glyph:"option-vertical"})},h.map((function(e){return!e.isVisible||e.isVisible({graphicKey:E})?o().createElement(g.MenuItem,{key:e.value,active:j===e.value,onClick:function(){return t=e.value,r=e.onSelect({ruleId:i,ruleKind:n,symbolizerKind:l,deaultProperties:w,graphicKey:E}),t===j?null:v(r);var t,r}},o().createElement(d.Z,{msgId:e.labelId})):null})))}const Fr=function(e){var t=e.className,r=e.glyph,n=e.tools,l=e.children,i=t?" "+t:"";return o().createElement("li",{className:"ms-symbolizer".concat(i)},o().createElement("div",{className:"ms-symbolizer-info"},r&&o().createElement(g.Glyphicon,{glyph:r}),o().createElement("div",{className:"ms-symbolizer-tools"},n)),l)};var zr=["ruleId","glyph","params","kind","symbolizerKind","classificationType","attributes","onUpdate","onReplace","methods","getColors","ruleBlock","symbolizerBlock","bands"],Zr=["name"];function Mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(r),!0).forEach((function(t){Br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Br(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _r(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const $r=function(e){var t=e.ruleId,r=e.glyph,l=e.params,i=e.kind,a=e.symbolizerKind,s=e.classificationType,c=void 0===s?"classificationVector":s,u=e.attributes,f=void 0===u?[]:u,d=e.onUpdate,p=e.onReplace,y=e.methods,m=e.getColors,b=void 0===m?function(){}:m,v=e.ruleBlock,g=void 0===v?{}:v,h=e.symbolizerBlock,O=void 0===h?{}:h,w=e.bands,k=_r(e,zr),S=k.ramp,E=k.method,j=k.classification,P=k.attribute,C=k.intervals,I=k.reverse,T=k.continuous,x=(0,n.useRef)();x.current={ruleId:t,intervals:C,method:E,attribute:P,reverse:I,ramp:S,continuous:T,classification:j};var A=l.reduce((function(e,t){return de()(t)?Wr(Wr({},e),t(a)):Wr(Wr({},e),t)}),{}),D=(O[a]||{}).glyph;return o().createElement(Fr,{key:"Classification",glyph:D||r,tools:o().createElement(Lr,{ruleKind:i,symbolizerKind:a,ruleId:t,onSelect:p,ruleBlock:g,symbolizerBlock:O})},o().createElement(ir,{properties:k,config:{attributes:f,methods:y,getColors:function(){var e="custom"===S&&j.length>0&&{name:"custom",colors:j.map((function(e){return e.color}))},t=b(void 0,void 0,5,e);return t?t.map((function(e){var t=e.name,r=_r(e,Zr);return Wr({label:t?"global.colors.".concat(t):void 0,name:t},r)})):[]},bands:w,method:E},params:A,onChange:function(e){return d(Wr(Wr({},x.current),{},{type:c,values:e}))}}))};var Ur=r(17621),qr=r.n(Ur),Vr=["a"];function Gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(r),!0).forEach((function(t){Yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Hr=function(e){var t=e.key,r=void 0===t?"color":t,n=e.opacityKey,o=void 0===n?"opacity":n,l=e.graphicKey,i=e.label,a=void 0===i?"Fill":i,s=e.stroke,c=e.pattern,u=e.disableAlpha,f=e.getGroupParams,d=e.getGroupConfig;return{type:"color",label:a,config:{stroke:s,pattern:c,disableAlpha:u,getGroupParams:f,getGroupConfig:d,graphicKey:l},setValue:function(e,t){var r;if(c&&null!==(r=t[l])&&void 0!==r&&r.kind)return t[l];var n=We()(t[o])?1:t[o];return qr()(e).setAlpha(n).toRgb()},getValue:function(e){var t,n;if(c&&ee()(e)&&e.kind)return Yr(n={},l,e),Yr(n,r,void 0),Yr(n,o,void 0),n;var i=e||{},a=i.a,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(i,Vr);return Kr((Yr(t={},r,qr()(Kr(Kr({},s),{},{a:1})).toHexString()),Yr(t,o,a),t),c&&Yr({},l,void 0))}}},Xr=function(e){var t=e.key,r=void 0===t?"width":t,n=e.label,o=void 0===n?"Width":n,l=e.dasharrayKey,i=void 0===l?"dasharray":l;return{type:"slider",label:o,config:{range:{min:0,max:20},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e[0]&&e[0].split(" px")[0],o=parseFloat(n),l=t[i],a=t[r];return Kr(Yr({},r,o),l&&Yr({},i,o?l.map((function(e){return Math.round(e/a*o)})):void 0))}}},Jr=function(e){var t=e.key,r=void 0===t?"dasharray":t,n=e.label;return{type:"dash",label:void 0===n?"Dash array":n,config:{options:[{value:"0"},{value:"1 4"},{value:"1 12"},{value:"8 8"},{value:"8 16"},{value:"8 8 1 8"},{value:"8 8 1 4 1 8"}]},setValue:function(e,t){var r=void 0===t.width?1:t.width;return void 0!==e?e.map((function(e){return Math.round(e/r)})):[0]},getValue:function(e,t){if(ue()(e,["0"]))return Yr({},r,void 0);var n=void 0===t.width?1:t.width,o=!(e||[]).find((function(e){return _e()(parseFloat(e))}));return Yr({},r,void 0!==e&&o?e.map((function(e){return parseFloat(e)*n})):void 0)}}},Qr=function(e){var t=e.key,r=void 0===t?"cap":t,n=e.label;return{type:"toolbar",label:void 0===n?"Line cap":n,config:{options:[{labelId:"styleeditor.lineCapButt",value:"butt"},{labelId:"styleeditor.lineCapRound",value:"round"},{labelId:"styleeditor.lineCapSquare",value:"square"}]},getValue:function(e){return Yr({},r,e)}}},en=function(e){var t=e.key,r=void 0===t?"join":t,n=e.label;return{type:"toolbar",label:void 0===n?"Line join":n,config:{options:[{labelId:"styleeditor.lineJoinBevel",value:"bevel"},{labelId:"styleeditor.lineJoinRound",value:"round"},{labelId:"styleeditor.lineJoinMiter",value:"miter"}]},getValue:function(e){return Yr({},r,e)}}},tn=function(e){var t=e.key,r=void 0===t?"radius":t,n=e.label;return{type:"slider",label:void 0===n?"Radius":n,config:{range:{min:1,max:100},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return Yr({},r,parseFloat(t))}}},rn=function(e){var t=e.key,r=void 0===t?"opacity":t,n=e.label;return{type:"slider",label:void 0===n?"Opacity":n,config:{range:{min:0,max:1}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return Yr({},r,parseFloat(t))}}},nn=function(e){var t=e.key,r=void 0===t?"offset":t,n=e.label,o=void 0===n?"":n,l=e.axis,i=void 0===l?"":l;return{key:r,type:"slider",label:o,config:{range:{min:-100,max:100},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="y"===i?parseFloat(e[1]):parseFloat(e[0]);return _e()(t)?0:t},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e[0]&&e[0].split(" px")[0],o=t[r]||[0,0];return Yr({},r,"y"===i?[o[0],parseFloat(n)]:[parseFloat(n),o[1]])}}},on=function(e){var t=e.key,r=void 0===t?"rotate":t,n=e.label;return{type:"slider",label:void 0===n?"Rotation (deg)":n,config:{range:{min:0,max:360},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+"°"}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split("°")[0];return Yr({},r,parseFloat(t))}}},ln=function(e){var t=e.label,r=e.key,n=void 0===r?"wellKnownName":r;return{type:"mark",label:t,getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Yr({},n,e)}}},an=function(e){var t=e.label,r=e.key,n=void 0===r?"image":r;return{type:"image",label:t,config:{},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Yr({},n,e)}}},sn=function(e){var t=e.label,r=e.key,n=void 0===r?"fontStyle":r;return{type:"toolbar",label:t,config:{options:[{labelId:"styleeditor.fontStyleNormal",value:"normal"},{labelId:"styleeditor.fontStyleItalic",value:"italic"}]},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Yr({},n,e)}}},cn=function(e){var t=e.label,r=e.key,n=void 0===r?"fontWeight":r;return{type:"toolbar",label:t,config:{options:[{labelId:"styleeditor.fontWeightNormal",value:"normal"},{labelId:"styleeditor.fontWeightBold",value:"bold"}]},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Yr({},n,e)}}},un=function(e){var t=e.key,r=void 0===t?"label":t;return{type:"toolbar",label:e.label,config:{options:[{labelId:"styleeditor.boolTrue",value:!0},{labelId:"styleeditor.boolFalse",value:!1}]},isDisabled:e.isDisabled,getValue:function(e){return Yr({},r,e)}}},fn=function(e){var t=e.key,r=void 0===t?"intervals":t,n=e.label,o=e.isDisabled;return{type:"slider",label:n,config:{range:{min:2,max:25},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}},isDisabled:void 0===o?function(e,t){return"customInterval"===(null==t?void 0:t.method)}:o,setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Yr({},r,parseFloat(e[0]))}}},dn=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions;return{type:"select",label:t,config:{getOptions:void 0===o?function(){return[]}:o,selectProps:e.selectProps,isValid:e.isValid},getValue:function(e){return Yr({},n,e)}}},pn=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions;return{type:"colorRamp",label:t,config:{getOptions:void 0===o?function(){return[]}:o},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Yr({},n,e)}}},yn=function(e){var t=e.label,r=e.key,n=void 0===r?"":r;return{type:"colorMap",label:t,getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.classification,o=e.type,l="interval"===o||"customInterval"===t.method,i="color"===o||"custom"===t.ramp;return Kr(Kr(Yr({},n,r),l&&{method:"customInterval"}),i&&{ramp:"custom"})}}},mn=function(e){return{type:"channel",label:e.label,setValue:function(e,t){return{channelSelection:t.channelSelection,contrastEnhancement:t.contrastEnhancement}},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{channelSelection:e.channelSelection,contrastEnhancement:e.contrastEnhancement}}}};function bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(r),!0).forEach((function(t){gn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hn(e){return function(e){if(Array.isArray(e))return On(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?On(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const wn=function(){var e={Mark:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:["point","linestring","polygon","vector"],params:{wellKnownName:ln({label:"styleeditor.shape"}),color:Hr({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),strokeColor:Hr({key:"strokeColor",opacityKey:"strokeOpacity",label:"styleeditor.strokeColor",stroke:!0}),strokeWidth:Xr({key:"strokeWidth",label:"styleeditor.strokeWidth"}),radius:tn({key:"radius",label:"styleeditor.radius"}),rotate:on({label:"styleeditor.rotation"})},deaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,strokeColor:"#777777",strokeOpacity:1,strokeWidth:1,radius:16,rotate:0}},Icon:{kind:"Icon",glyph:"point",glyphAdd:"point-plus",tooltipAddId:"styleeditor.addIconRule",supportedTypes:["point","linestring","polygon","vector"],params:{image:an({label:"styleeditor.image",key:"image"}),opacity:rn({label:"styleeditor.opacity"}),size:tn({key:"size",label:"styleeditor.size"}),rotate:on({label:"styleeditor.rotation"})},deaultProperties:{kind:"Icon",image:"",opacity:1,size:32,rotate:0}},Line:{kind:"Line",glyph:"line",glyphAdd:"line-plus",tooltipAddId:"styleeditor.addLineRule",supportedTypes:["linestring","polygon","vector"],params:{color:Hr({label:"styleeditor.strokeColor",stroke:!0,pattern:!0,getGroupParams:function(t){return e[t]},getGroupConfig:function(e){return"Mark"===e?{disableAlpha:!0}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}},graphicKey:"graphicStroke"}),width:Xr({label:"styleeditor.strokeWidth",key:"width"}),dasharray:Jr({label:"styleeditor.lineStyle",key:"dasharray"}),cap:Qr({label:"styleeditor.lineCap",key:"cap"}),join:en({label:"styleeditor.lineJoin",key:"join"})},deaultProperties:{kind:"Line",color:"#777777",width:1,opacity:1,cap:"round",join:"round"}},Fill:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polygon","vector"],params:{color:Hr({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(t){return e[t]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}}),outlineColor:Hr({key:"outlineColor",opacityKey:"outlineOpacity",label:"styleeditor.outlineColor",stroke:!0}),outlineWidth:Xr({key:"outlineWidth",label:"styleeditor.outlineWidth"})},deaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1,outlineColor:"#777777",outlineWidth:1}},Text:{kind:"Text",glyph:"font",tooltipAddId:"styleeditor.addTextRule",supportedTypes:["point","linestring","polygon","vector"],params:{label:dn({key:"label",label:"styleeditor.label",selectProps:{creatable:!0},getOptions:function(e){var t=e.attributes;return(null==t?void 0:t.map((function(e){return{value:"{{"+e.attribute+"}}",label:e.attribute}})))||[]}}),font:dn({key:"font",label:"styleeditor.fontFamily",selectProps:{multi:!0},getOptions:function(e){var t=e.fonts;return(null==t?void 0:t.map((function(e){return{value:e,label:e}})))||[]}}),color:Hr({label:"styleeditor.fontColor",key:"color",disableAlpha:!0}),size:tn({label:"styleeditor.fontSize",key:"size"}),fontStyle:sn({label:"styleeditor.fontStyle",key:"fontStyle"}),fontWeight:cn({label:"styleeditor.fontWeight",key:"fontWeight"}),haloColor:Hr({label:"styleeditor.haloColor",key:"haloColor",stroke:!0,disableAlpha:!0}),haloWidth:Xr({label:"styleeditor.haloWidth",key:"haloWidth"}),rotate:on({label:"styleeditor.rotation"}),offsetX:nn({label:"styleeditor.offsetX",axis:"x"}),offsetY:nn({label:"styleeditor.offsetY",axis:"y"})},deaultProperties:{kind:"Text",label:"Label",color:"#333333",size:14,fontStyle:"normal",fontWeight:"normal",haloColor:"#ffffff",haloWidth:1,allowOverlap:!0,offset:[0,0]}},Raster:{kind:"Raster",glyph:"1-raster",tooltipAddId:"styleeditor.addRasterRule",supportedTypes:["raster"],params:{channel:mn({}),opacity:rn({label:"styleeditor.opacity"})},deaultProperties:{kind:"Raster",opacity:1,contrastEnhancement:{}}}},t={Classification:{kind:"Classification",glyph:"list",classificationType:"classificationVector",hideInputLabel:!0,hideFilter:!0,params:[{ramp:pn({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:un({key:"reverse",label:"styleeditor.reverse",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),attribute:dn({key:"attribute",label:"styleeditor.attribute",isValid:function(e){return void 0!==e.value},getOptions:function(e){var t=e.attributes;return null==t?void 0:t.map((function(e){return{value:e.attribute,label:e.attribute,disabled:e.disabled}}))}}),method:dn({key:"method",label:"styleeditor.method",getOptions:function(e){var t=e.methods,r=e.method,n=(null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}})))||[];return[].concat(hn("customInterval"===r?[{labelId:"styleeditor."+r,value:r}]:[]),hn(n))}}),intervals:fn({label:"styleeditor.intervals"})},function(t){var r,n,o,l;if(!t)return{};switch(t){case"Mark":return vn({fillOpacity:rn({key:"fillOpacity",label:"styleeditor.opacity"})},Ze()(null===(r=e[t])||void 0===r?void 0:r.params,["color"]));case"Line":return vn({opacity:rn({key:"opacity",label:"styleeditor.opacity"})},Ze()(null===(n=e[t])||void 0===n?void 0:n.params,["color"]));case"Fill":return vn({fillOpacity:rn({key:"fillOpacity",label:"styleeditor.opacity"})},Ze()(null===(o=e[t])||void 0===o?void 0:o.params,["color"]));default:return null===(l=e[t])||void 0===l?void 0:l.params}},{classification:yn({key:"classification",rampKey:"ramp"})}],deaultProperties:{kind:"Classification",classification:[],intervals:5,method:"equalInterval",ramp:"orrd",reverse:!1}},Raster:{kind:"Raster",glyph:"1-raster",classificationType:"classificationRaster",hideInputLabel:!1,hideFilter:!0,params:[{channel:mn({}),opacity:rn({label:"styleeditor.opacity"}),ramp:pn({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:un({key:"reverse",label:"styleeditor.reverse"}),continuous:un({key:"continuous",label:"styleeditor.continuous"}),method:dn({key:"method",label:"styleeditor.method",getOptions:function(e){var t=e.methods;return null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}}))}}),intervals:fn({label:"styleeditor.intervals"})}],deaultProperties:{kind:"Raster",opacity:1,classification:[],intervals:5,method:"equalInterval",reverse:!1,continuous:!0,symbolizerKind:"Raster"}}};return{symbolizerBlock:e,ruleBlock:t}};var kn=r(90937);function Sn(e){var t=e.title,r=e.tools,l=e.errorId,i=e.draggable,a=e.connectDragSource,s=e.connectDropTarget,c=e.isDragging,u=e.children,f=(0,n.useRef)(null);i&&(a(f.current),s(f.current));var p=c?" ms-drop-target":"";return o().createElement("li",{ref:f,className:"ms-style-rule".concat(p)},o().createElement("div",{className:"ms-style-rule-head"},i&&o().createElement("div",{className:"ms-style-rule-grab-handle"},o().createElement(g.Glyphicon,{glyph:"grab-handle"})),o().createElement("div",{className:"ms-style-rule-head-info"},t),o().createElement("div",{className:"ms-style-rule-head-tools"},r)),l&&o().createElement(g.Alert,{bsStyle:"danger"},o().createElement(d.Z,{msgId:l})),o().createElement("ul",{className:"ms-style-rule-body"},u))}Sn.propTypes={title:be().oneOfType([be().node,be().string]),tools:be().node,errorId:be().string,draggable:be().bool,connectDragSource:be().func,connectDropTarget:be().func,isDragging:be().bool},Sn.defaultProps={connectDragSource:function(e){return e},connectDropTarget:function(e){return e}};var En="RULE";const jn=(0,kn.GR)(En,{hover:function(e,t,r){!function(e,t,r){if(!r)return null;var n=(0,Ot.findDOMNode)(r);if(!n)return null;var o=t.getItem().index,l=e.index;if(o===l)return null;var i=n.getBoundingClientRect(),a=i.bottom,s=i.top,c=(a-s)/2,u=t.getClientOffset().y-s;o<l&&u<c||o>l&&u>c||(e.onSort(o,l),t.getItem().index=l)}(e,t,r)}},(function(e){return{connectDropTarget:e.dropTarget()}}))((0,kn.Ej)(En,{beginDrag:function(e){return{id:e.id,index:e.index}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Sn));var Pn=["ruleId"],Cn=["kind","symbolizerId"];function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function xn(e){return function(e){if(Array.isArray(e))return An(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return An(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?An(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach((function(t){Rn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ln=(0,w.Z)(Dt.Z),Fn=(0,O.Z)("placeholder")(g.FormControl);function zn(){return o().createElement("div",{style:{position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}},o().createElement("div",null,o().createElement(g.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),o().createElement("h1",null,o().createElement(d.Z,{msgId:"styleeditor.emptyRuleEditorTitle"})),o().createElement("p",null,o().createElement(d.Z,{msgId:"styleeditor.emptyRuleEditor"}))))}var Zn=(0,n.forwardRef)((function(e,t){var r=e.rules,l=void 0===r?[]:r,i=e.loading,a=e.toolbar,s=e.config,c=void 0===s?{}:s,u=e.ruleBlock,f=void 0===u?{}:u,p=e.symbolizerBlock,y=void 0===p?{}:p,m=e.onUpdate,b=void 0===m?function(){}:m,v=e.onChange,h=void 0===v?function(){}:v,O=c.geometryType,w=c.attributes,k=c.bands,S=c.scales,E=c.zoom,j=c.fonts,P=c.methods,C=c.getColors,I=(0,n.useRef)();function T(e,t){var r=e.values,n=e.ruleId,o=e.symbolizerId;if(t){var l=I.current.rules.map((function(e){return e.ruleId===n?Nn(Nn({},e),r):e}));return h(l)}var i=I.current.rules.map((function(e){return e.symbolizers?Nn(Nn({},e),{},{symbolizers:e.symbolizers.map((function(t){return t.symbolizerId===o&&e.ruleId===n?Nn(Nn({},t),r):t}))}):e}));return h(i)}function x(e){var t=[e].concat(xn(I.current.rules));h(t)}function A(e){var t=e.ruleId,r=Tn(e,Pn),n=I.current.rules.map((function(e){return e.ruleId===t?Nn({ruleId:t},r):e}));return h(n)}function D(e,t){var r=Re()(I.current.rules,(function(t,r){return r===e})),n=I.current.rules.reduce((function(n,o,l){return l===e?n:[].concat(xn(n),l===t?e>t?[r,o]:[o,r]:[o])}),[]);return h(n)}function N(e,t){var r=e.symbolizers,n=void 0===r?[]:r;return!!Re()(n,(function(e){return"Text"===e.kind}))&&t>0}return I.current={rules:l},o().createElement("div",{ref:t,className:"ms-style-rules-editor"},o().createElement("div",{className:"ms-style-rules-editor-head"},o().createElement("div",{className:"ms-style-rules-editor-left"},a),o().createElement("div",{className:"ms-style-rules-editor-right"},o().createElement(G.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[].concat(xn(Object.keys(y).map((function(e){var t=y[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(O),tooltipId:t.tooltipAddId,onClick:function(){return x({name:"",ruleId:sr()(),symbolizers:[Nn(Nn({},y[e].deaultProperties),{},{symbolizerId:sr()()})]})}}}))),xn(Object.keys(f).filter((function(e){return f[e].add})).map((function(e){var t=f[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(O),tooltipId:t.tooltipAddId,onClick:function(){return x(Nn({name:"",ruleId:sr()()},f[e].deaultProperties))}}}))))}))),o().createElement("ul",{className:"ms-style-rules-editor-body"},0===l.length&&o().createElement(zn,null),l.map((function(e,t){var r=e.name,n=e.symbolizers,i=void 0===n?[]:n,a=e.filter,s=e.scaleDenominator,c=void 0===s?{}:s,u=e.ruleId,p=e.kind,m=e.errorId,v=f[p]||{},O=v.params,x=v.glyph,R=v.hideInputLabel,L=v.hideFilter,F=v.hideScaleDenominator,z=v.classificationType;return o().createElement(jn,{key:u+(l.length>1?"_draggable":""),draggable:l.length>1,id:u,index:t,errorId:m,onSort:D,title:R?o().createElement(d.Z,{msgId:"styleeditor.rule".concat(p)}):o().createElement(g.FormGroup,{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o().createElement(Fn,{value:r,placeholder:"styleeditor.enterLegendLabelPlaceholder",onChange:function(e){return T({values:{name:e.target.value},ruleId:u},!0)}})),tools:o().createElement(o().Fragment,null,N(e,t)&&o().createElement(ge.Z,{glyph:"exclamation-mark",bsStyle:"warning",placement:"right",title:o().createElement(d.Z,{msgId:"styleeditor.warningTextOrderTitle"}),text:o().createElement(d.Z,{msgId:"styleeditor.warningTextOrder"})}),o().createElement(gr,{hide:L,value:a,attributes:w,onChange:function(e){return T({values:e,ruleId:u},!0)}}),o().createElement(Tr,{hide:F,value:c,scales:S,zoom:E,onChange:function(e){return T({values:e,ruleId:u},!0)}}),o().createElement(Ln,{className:"square-button-md no-border",tooltipId:"styleeditor.removeRule",onClick:function(){return function(e){var t=I.current.rules.filter((function(t){return t.ruleId!==e}));h(t)}(u)}},o().createElement(g.Glyphicon,{glyph:"trash"})))},"Classification"===p||"Raster"===p?o().createElement($r,In({},e,{ruleBlock:f,symbolizerBlock:y,glyph:x,classificationType:z,params:O,methods:P,getColors:C,bands:k,attributes:w&&w.map((function(e){return Nn(Nn({},e),{},{disabled:"number"!==e.type})})),onUpdate:b,onChange:function(e){return T({values:e,ruleId:u},!0)},onReplace:A})):i.map((function(e){var t=e.kind,r=void 0===t?"":t,n=e.symbolizerId,l=Tn(e,Cn),i=y[r]||{},a=i.params,s=i.glyph;return a&&o().createElement(Fr,{key:n,defaultExpanded:!0,draggable:!0,glyph:s,tools:o().createElement(Lr,{hide:"Icon"===r,symbolizerKind:r,ruleBlock:f,symbolizerBlock:y,ruleId:u,onSelect:A,graphic:l.graphicFill||l.graphicStroke,channelSelection:l.channelSelection})},o().createElement(ir,{properties:l,params:a,config:{bands:k,attributes:w,fonts:j},onChange:function(e){return T({values:e,ruleId:u,symbolizerId:n})}}))})))})),i&&o().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.4)",zIndex:10,transition:"0.3s all"}})))})),Mn=wn(),Wn=Mn.symbolizerBlock,Bn=Mn.ruleBlock;Zn.propTypes={rules:be().array,loading:be().bool,toolbar:be().node,config:be().object,ruleBlock:be().object,symbolizerBlock:be().object,onUpdate:be().func,onChange:be().func},Zn.defaultProps={rules:[],config:{},ruleBlock:Bn,symbolizerBlock:Wn,onUpdate:function(){},onChange:function(){}};const _n=Zn;var $n=r(66287),Un=r(21090),qn=["values"];function Vn(e){return function(e){if(Array.isArray(e))return Yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||Kn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){if(e){if("string"==typeof e)return Yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yn(e,t):void 0}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){Jn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qn="UPDATE_STYLE",eo="UNDO_STYLE",to="REDO_STYLE",ro=Jn({},Qn,(function(e,t){return Xn({},t)})),no=(0,Un.ZP)((function(e,t){return(ro[t.type]||Fe())(e,t.payload)}),{limit:20,undoType:eo,redoType:to,jumpType:"",jumpToPastType:"",jumpToFutureType:"",clearHistoryType:""}),oo={};function lo(e){var t,r,l=e.code,i=e.format,a=e.layer,s=e.zoom,c=e.scales,u=e.geometryType,f=e.fonts,p=e.bands,y=e.attributes,m=e.onChange,b=e.onError,g=e.defaultStyleJSON,h=(e.config,e.loading),O=e.error,w=e.methods,k=e.getColors,S=e.styleUpdateTypes,E=e.debounceTime,j=wn(),P=j.symbolizerBlock,C=j.ruleBlock,I=Gn((0,n.useState)(!1),2),T=I[0],x=I[1],A=Gn((0,n.useReducer)(no,{}),2),D=A[0],N=A[1],R=(null==D?void 0:D.present)||oo,L=(0,n.useRef)();L.current={style:R};var F=(0,n.useRef)(!1);(0,n.useEffect)((function(){var e;F.current||((e=(0,$n.getStyleParser)(i))&&l&&null===g?e.readStyle(l).then((function(e){N({type:Qn,payload:(0,H.VM)(e)}),F.current=!0})).catch((function(e){return b(Xn(Xn({},e),{},{status:400}))})):e&&l&&g?(F.current=!0,N({type:Qn,payload:g})):l&&!e&&b({messageId:"styleeditor.formatNotSupported",status:400}))}),[l,i,g]);var z=function(e){if(x(!1),!e)return null;var t=Xn(Xn({},L.current.style),{},{rules:e});return N({type:Qn,payload:t})},Z=(0,n.useRef)();(0,n.useEffect)((function(){return Z.current=ie()((function(e){var t,r=function(e){if(!e||0===e.length)return{messageId:"styleeditor.styleEmpty",status:400};var t=Re()(e.map((function(e){return e.errorId})),(function(e){return e}));if(t)return{messageId:t,status:400};if(Re()(e,(function(e){var t=e.kind,r=e.classification;return!("Classification"!==t&&"Raster"!==t||r&&0!==r.length)})))return{messageId:"styleeditor.incompleteClassification",status:400};var r,n,o,l=Re()(e,(function(e){var t=e.symbolizers,r=void 0===t?[]:t;return Re()(r,(function(e){var t=e.kind,r=e.image;return"Icon"===t&&(null==r?void 0:r.errorId)}))}));return l?{messageId:"styleeditor.".concat(null==l||null===(r=l.symbolizers)||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.image)||void 0===o?void 0:o.errorId),status:400}:null}(null==e||null===(t=e.style)||void 0===t?void 0:t.rules);if(r)return b(r);var n=(0,$n.getStyleParser)(e.format);return n?n.writeStyle((0,H.Gg)(e.style)).then((function(t){m(t,e.style)})).catch((function(e){b(Xn(Xn({},e),{},{status:400}))})):null}),E),function(){Z.current.cancel()}}),[]),(0,n.useEffect)((function(){Z.current.cancel(),Z.current({format:i,style:R})}),[JSON.stringify(R)]);var M=O&&(O.message||O.messageId&&o().createElement(d.Z,{msgId:O.messageId}));return o().createElement(_n,{loading:T,toolbar:o().createElement(G.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[{glyph:"undo",tooltipId:"styleeditor.undoStyle",disabled:0===(null==D||null===(t=D.past)||void 0===t?void 0:t.length),onClick:function(){return N({type:eo})}},{disabled:0===(null==D||null===(r=D.future)||void 0===r?void 0:r.length),tooltipId:"styleeditor.redoStyle",glyph:"redo",onClick:function(){return N({type:to})}},{visible:!!O,Element:function(){return o().createElement("div",{className:"square-button-md",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},o().createElement(ge.Z,{glyph:"exclamation-mark",bsStyle:"danger",placement:"right",title:o().createElement(d.Z,{msgId:"styleeditor.validationErrorTitle"}),text:o().createElement(o().Fragment,null,o().createElement("p",null,o().createElement(d.Z,{msgId:"styleeditor.genericValidationError"})),M?o().createElement("p",null,o().createElement(d.Z,{msgId:"styleeditor.validationError"}),": ",M):o().createElement("p",null,o().createElement(d.Z,{msgId:"styleeditor.incorrectPropertyInputError"})))}))}},{visible:!(!h&&!T),Element:function(){return o().createElement("div",{className:"square-button-md",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},o().createElement(v.Z,{size:18}))}}]}),ruleBlock:C,symbolizerBlock:P,config:{geometryType:u,zoom:s,fonts:f,scales:c,bands:p,attributes:y,methods:w,getColors:k},rules:(null==R?void 0:R.rules)&&Vn(R.rules).reverse(),onChange:function(e){return z(Vn(e).reverse())},onUpdate:function(e){var t=e.values,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,qn);x(!0),function(e){var t=e.values,r=e.properties,n=e.rules,o=e.layer,l=e.styleUpdateTypes,i=void 0===l?{}:l;return new Promise((function(e){var l=r.type&&i[r.type];return e(l?l({values:t,properties:r,rules:n,layer:o}):n.map((function(e){return e.ruleId===r.ruleId?Xn(Xn(Xn({},e),t),{},{errorId:void 0}):e})))}))}({values:t,properties:r,layer:a,rules:L.current.style.rules,styleUpdateTypes:S}).then((function(e){return z(e)})).catch((function(){return z()}))}})}lo.propTypes={code:be().string,format:be().string,layer:be().object,zoom:be().number,scales:be().array,geometryType:be().string,fonts:be().array,bands:be().array,attributes:be().array,onChange:be().func,onError:be().func,defaultStyleJSON:be().object,config:be().object,loading:be().bool,error:be().object,methods:be().array,getColors:be().func,styleUpdateTypes:be().object,debounceTime:be().number},lo.defaultProps={onChange:function(){},onError:function(){},config:{},getColors:function(){},styleUpdateTypes:{},debounceTime:300,defaultStyleJSON:null};const io=lo;var ao=r(827),so=r(84715),co=r(24198);const uo=[{type:"color",active:function(e){return"atom"===e.type&&qr()(e.string).isValid()},style:function(e){return{backgroundColor:e.string}},Widget:function(e){var t=e.token,r=e.value,n=e.onChange,l=void 0===n?function(){}:n;return o().createElement(co.xS,{color:{hex:r||t.string},onChange:function(e){return l(e.hex)}})}}];var fo=["code","error","canEdit","editorType","onUpdateMetadata","onChange","loading"];function po(){return(po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mo={classificationVector:re.IW,classificationRaster:re.DG,classification:re.IW,"classification-raster":re.DG};function bo(e,t){return e&&"raster"!==t&&Object.keys(e).filter((function(t){return-1!==["integer","long","double","float","bigdecimal","string","decimal"].indexOf(e[t].localPart.toLowerCase())})).map((function(t){var r=e[t].localPart;return{attribute:t,label:t,type:-1!==["integer","long","double","float","bigdecimal","decimal"].indexOf(r.toLowerCase())?"number":"string"}}))}var vo=(0,l.connect)((0,a.P1)([Y.gB,Y.iB,Y.m2,Y.p,Y.aN,Y.Vf,Y.lC,ao.up,ao.Od,Y.Z0],(function(e,t,r,n,o,l,i,a,s,c){var u,f;return{code:e,mode:(0,H.H$)(t),bands:J()(r)&&"raster"===i&&r||[],attributes:bo(r,i),error:n.edit||null,loading:o,format:t,layer:l,geometryType:i,scales:a.map((function(e){return Math.round(e)})),zoom:s.zoom,fonts:c.fonts||[],methods:("raster"===i?null==c||null===(u=c.classificationMethods)||void 0===u?void 0:u.raster:null==c||null===(f=c.classificationMethods)||void 0===f?void 0:f.vector)||te.Z.methods}})),{onError:f.Fe.bind(null,"edit")})(io);vo.defaultProps={getColors:te.Z.getColors,styleUpdateTypes:mo};var go={visual:vo,textarea:(0,l.connect)((0,a.P1)([Y.gB,Y.iB,Y.m2,Y.p,Y.aN],(function(e,t,r,n,o){return{code:e,mode:(0,H.H$)(t),hintProperties:r,error:n.edit||null,loading:o}})))(De)};function ho(e){var t,r,l=e.code,i=e.error,a=e.canEdit,s=e.editorType,c=e.onUpdateMetadata,u=e.onChange,f=e.loading,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,fo),m=(t=(0,n.useState)(),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return yo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yo(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=m[0],h=m[1],O={position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"};if(!l&&!i)return o().createElement("div",{style:O},o().createElement(v.Z,{size:150}));if(!a)return o().createElement("div",{style:O},o().createElement("div",null,o().createElement(g.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),o().createElement("h1",null,o().createElement(d.Z,{msgId:"styleeditor.noPermission"}))));if(404===(null==i?void 0:i.status))return o().createElement("div",{style:O},o().createElement("div",null,o().createElement(g.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),o().createElement("h1",null,o().createElement(d.Z,{msgId:"styleeditor.styleNotFound"}))));var w=go[s]||go.textarea;return o().createElement(p.Z,{style:{position:"relative"},header:o().createElement("div",{className:"ms-style-editor-switch"},o().createElement(G.Z,{buttons:[{className:"square-button-md no-border",glyph:"code",active:"textarea"===s,disabled:f,tooltipId:"visual"===s?"styleeditor.switchToTextareaEditor":"styleeditor.switchToVisualEditor",onClick:function(){return f?null:"visual"===s?c({editorType:"textarea"}):h(!0)}}]}))},w&&o().createElement(w,po({},y,{onChange:function(e,t){u(e),ee()(t)&&c({styleJSON:JSON.stringify(t)})}})),b&&o().createElement("div",{className:"ms-style-editor-alert",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",padding:16,backgroundColor:"rgba(0, 0, 0, 0.6)"}},o().createElement(g.Alert,{bsStyle:"warning",style:{textAlign:"center"}},o().createElement("p",{style:{padding:8}},o().createElement(d.Z,{msgId:"styleeditor.alertForceTranslate"})),o().createElement("p",null,o().createElement(G.Z,{buttons:[{text:o().createElement(d.Z,{msgId:"styleeditor.stayInTextareaEditor"}),onClick:function(){return h(!1)},style:{marginRight:4}},{bsStyle:"primary",text:o().createElement(d.Z,{msgId:"styleeditor.useLatestValidStyle"}),onClick:function(){c({editorType:"visual"}),h(!1)}}]})))))}ho.defaultProps={inlineWidgets:uo};var Oo=(0,l.connect)((0,so.y)(Y.gB,Y.p,Y.z_,(function(e){var t=(0,Y.WW)(e);return null==t?void 0:t.editorType}),(function(e){try{var t=(0,Y.WW)(e);return JSON.parse(null==t?void 0:t.styleJSON)}catch(e){return null}}),Y.aN,(function(e,t,r,n,o,l){return{code:e,error:t.edit||null,canEdit:r,editorType:n,defaultStyleJSON:o,loading:l}})),{onUpdateMetadata:f.bB,onChange:f.p2})(ho),wo=(0,H.YD)(),ko=(0,y.Z)((function(e){return!e.canEdit}),{glyph:"exclamation-mark",title:o().createElement(d.Z,{msgId:"styleeditor.noPermission"})}),So=function(e){return(0,m.Z)(e,{size:150,style:{margin:"auto"}},(function(e){return o().createElement("div",{style:{position:"relative",height:"100%",display:"flex"}},o().createElement(v.Z,e))}))},Eo=(0,i.compose)((0,i.defaultProps)({templates:wo}),(0,l.connect)((0,a.P1)([Y.Mc,Y.w_,Y.lC,Y.z_,Y.Z0,Y.aN],(function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=o.formats,i=void 0===l?[]:l,a=arguments.length>5?arguments[5]:void 0;return{selectedStyle:e,add:t&&e,geometryType:r,canEdit:n,availableFormats:i,loading:a}})),{onSelect:f.FU,onClose:f.cu.bind(null,!1),onSave:f.wj}),ko,So((function(e){return!e.geometryType})),(0,i.withState)("filterText","onFilter",""),(0,i.withState)("styleSettings","onUpdate",{}))((function(e){var t=e.selectedStyle,r=e.add,n=e.styleSettings,l=void 0===n?{}:n,i=e.geometryType,a=void 0===i?"":i,s=e.templates,c=void 0===s?[]:s,u=e.filterText,f=e.availableFormats,y=void 0===f?["sld","css"]:f,m=e.formFields,b=void 0===m?[{key:"title",placeholder:"styleeditor.titleSettingsplaceholder",title:o().createElement(d.Z,{msgId:"styleeditor.titleSettings"})},{key:"_abstract",placeholder:"styleeditor.abstractSettingsplaceholder",title:o().createElement(d.Z,{msgId:"styleeditor.abstractSettings"})}]:m,h=e.onFilter,O=void 0===h?function(){}:h,w=e.onSelect,k=void 0===w?function(){}:w,S=e.onClose,E=void 0===S?function(){}:S,j=e.onSave,P=void 0===j?function(){}:j,I=e.onUpdate,T=void 0===I?function(){}:I,x=e.loading;return o().createElement(p.Z,{header:o().createElement("div",null,o().createElement($,{filterPlaceholder:"styleeditor.templateFilterPlaceholder",filterText:u,onFilter:O}),o().createElement("div",{className:"text-center"},o().createElement("small",null,x?o().createElement(v.Z,{size:15,style:{display:"inline-block"}}):o().createElement(d.Z,{msgId:"styleeditor.createStyleFromTemplate"}))))},o().createElement(q,{colProps:{},cardComponent:z,onItemClick:function(e){var t=e.code,r=e.styleId,n=e.format;k({code:t,templateId:r,format:n||"css"}),T(B(B({},l),{},{title:L()(c.filter((function(e){return e.styleId===r})).map((function(e){return e.title})))}))},items:c.filter((function(e){var t=e.title;return!u||u&&-1!==t.indexOf(u)})).filter((function(e){var t=e.types,r=e.format;return!t||L()(t.filter((function(e){return e===a})))&&-1!==y.indexOf(r)})).map((function(e){var r;return B(B({},e),{},{preview:null!=e&&null!==(r=e.preview)&&void 0!==r&&r.config?o().createElement(C,e.preview.config):null==e?void 0:e.preview,selected:e.styleId===t,disabled:x})}))}),o().createElement(Z.Z,null,o().createElement(M.Z,{show:!!r,fitContent:!0,title:o().createElement(d.Z,{msgId:"styleeditor.createStyleModalTitle"}),onClose:function(){return E()},buttons:[{text:o().createElement(d.Z,{msgId:"save"}),bsStyle:"primary",disabled:!V(l),onClick:function(){return P(l)}}]},o().createElement(g.Form,null,o().createElement(g.FormGroup,{controlId:"styleTitle",validationState:!V(l)&&"error"},b.map((function(e){var t=e.title,r=e.placeholder,n=e.key;return o().createElement("span",{key:n},o().createElement(g.ControlLabel,null,t),o().createElement(U,{type:"text",defaultValue:l[n],placeholder:r,onChange:function(e){return T(B(B({},l),{},_({},n,e.target.value)))}}))}))),!V(l)&&o().createElement(g.Alert,{style:{margin:0},bsStyle:"danger"},o().createElement(F.Z,{msgId:"styleeditor.titleRequired"}))))))})),jo=(0,i.compose)((0,l.connect)((0,a.P1)([Y.ex,Y.ov],(function(e,t){return{status:e,defaultStyle:t.defaultStyle,enabledStyle:t.enabledStyle,availableStyles:t.availableStyles}})),{onSelect:u.Xy}),(0,i.withState)("filterText","onFilter",""),(0,b.Z)((function(e){var t=e.status,r=e.readOnly;return"template"===t&&!r}),(function(){return o().createElement(Eo,null)}),{maskContainerStyle:{display:"flex",position:"relative"},maskStyle:{overflowY:"auto",left:0}}))((function(e){var t=e.showDefaultStyleIcon,r=e.enabledStyle,n=e.defaultStyle,l=e.availableStyles,i=void 0===l?[]:l,a=e.onSelect,s=e.formatColors,c=void 0===s?{sld:"#33ffaa",css:"#ffaa33"}:s,u=e.filterText,f=e.onFilter,d=void 0===f?function(){}:f;return o().createElement(p.Z,{className:"ms-style-editor-list",header:o().createElement(A,{filterPlaceholder:"styleeditor.styleListfilterPlaceholder",filterText:u,onFilter:d})},o().createElement(N,{size:"sm",onItemClick:function(e){var t=e.name;return a({style:n===t?"":t},!0)},items:i.filter((function(e){var t,r,n=e.name,o=void 0===n?"":n,l=e.title,i=void 0===l?"":l,a=e._abstract,s=void 0===a?"":a,c=e.metadata,f=void 0===c?{}:c;return!u||u&&(-1!==o.indexOf(u)||-1!==(null==f||null===(t=f.title)||void 0===t?void 0:t.indexOf(u))||-1!==(null==f||null===(r=f.description)||void 0===r?void 0:r.indexOf(u))||-1!==i.indexOf(u)||-1!==s.indexOf(u))})).map((function(e){var l,i,a;return T(T({},e),{},{title:(null==e||null===(l=e.metadata)||void 0===l?void 0:l.title)||e.label||e.title||e.name,description:(null==e||null===(i=e.metadata)||void 0===i?void 0:i.description)||e._abstract,selected:r===e.name,preview:e.format&&o().createElement(C,{backgroundColor:"#333333",texts:[{text:(a=e.format,{sld:"SLD",css:"CSS",mbstyle:"MBS"}[a]||a||"").toUpperCase(),fill:c[e.format]||"#f2f2f2",style:{fontSize:70,fontWeight:"bold"}}]})||o().createElement(D,{glyph:"geoserver"}),tools:t&&n===e.name?o().createElement(D,{glyph:"star",tooltipId:"styleeditor.defaultStyle"}):null})}))}))})),Po=(0,i.compose)((0,i.withState)("showModal","onShowModal"),(0,l.connect)((0,a.P1)([Y.ex,Y.Mc,Y.p,Y.QW,Y.gB,Y.aN,Y.i7,Y.z_,Y.ov,Y.Z0,Y.Ed],(function(e,t,r,n,o,l,i,a,s){var c=s.defaultStyle,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},f=u.formats,d=void 0===f?["sld"]:f,p=arguments.length>10?arguments[10]:void 0;return{status:e,templateId:t,error:r,isCodeChanged:n!==o,loading:l,layerDefaultStyleName:c,selectedStyle:c===i?"":i,editEnabled:a,disableCodeEditing:-1===d.indexOf(p)}})),{onSelectStyle:f.Nf.bind(null,"template"),onEditStyle:f.Nf.bind(null,"edit"),onBack:f.Nf.bind(null,""),onReset:s.B1.bind(null,H.s1,[{}]),onAdd:f.cu.bind(null,!0),onUpdate:f.Lc,onDelete:f.WQ,onSetDefault:f.WB}))((function(e){var t,r=e.status,n=e.buttons,l=void 0===n?[]:n,i=e.templateId,a=e.error,s=e.isCodeChanged,c=e.showModal,u=e.onShowModal,f=e.loading,p=e.selectedStyle,y=e.layerDefaultStyleName,m=e.editEnabled,b=e.enableSetDefaultStyle,v=e.defaultStyles,h=void 0===v?["generic","point","line","polygon","raster"]:v,O=e.onBack,w=void 0===O?function(){}:O,k=e.onAdd,S=void 0===k?function(){}:k,E=e.onReset,j=void 0===E?function(){}:E,P=e.onDelete,C=void 0===P?function(){}:P,I=e.onSelectStyle,T=void 0===I?function(){}:I,x=e.onEditStyle,A=void 0===x?function(){}:x,D=e.onUpdate,N=void 0===D?function(){}:D,R=e.onSetDefault,L=void 0===R?function(){}:R,F=e.disableCodeEditing;return o().createElement("div",null,o().createElement(G.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"arrow-left",visible:!!r,tooltipId:"styleeditor.backToList",disabled:!!f,onClick:function(){"edit"===r&&s?u({title:o().createElement(d.Z,{msgId:"styleeditor.closeWithoutSaveAlertTitle"}),message:o().createElement(g.Alert,{bsStyle:"warning",style:{margin:0}},o().createElement(d.Z,{msgId:"styleeditor.closeWithoutSaveAlert"})),buttons:[{text:o().createElement(d.Z,{msgId:"close"}),bsStyle:"primary",onClick:function(){u(null),w(),j()}}]}):(w(),j())}},{glyph:"1-stilo",tooltipId:"styleeditor.createNewStyle",visible:!(r||!m),disabled:!!f,onClick:function(){return T()}},{glyph:"code",tooltipId:"styleeditor.editSelectedStyle",visible:!(r||!m),disabled:!!f||-1!==h.indexOf(p)||!p&&-1!==h.indexOf(y)||F,onClick:function(){return A()}},{glyph:"ok",tooltipId:"styleeditor.saveCurrentStyle",disabled:!!(a&&a.edit&&a.edit.status)||!!f||-1!==h.indexOf(p),visible:!("edit"!==r||!m),onClick:function(){return N()}},{glyph:"plus",tooltipId:"styleeditor.addSelectedTemplate",visible:!("template"!==r||!i||!m),disabled:!!f,onClick:function(){return S()}},{glyph:"trash",tooltipId:"styleeditor.deleteSelectedStyle",disabled:!!f||-1!==h.indexOf(p)||!p,visible:!(r||!m),onClick:function(){u({title:o().createElement(d.Z,{msgId:"styleeditor.deleteStyleAlertTitle"}),message:o().createElement(g.Alert,{bsStyle:"warning",style:{margin:0}},o().createElement(d.Z,{msgId:"styleeditor.deleteStyleAlert"})),buttons:[{text:o().createElement(d.Z,{msgId:"styleeditor.delete"}),bsStyle:"primary",onClick:function(){u(null),C(p)}}]})}},{glyph:"star",tooltipId:"styleeditor.setDefaultStyle",disabled:!!f||-1!==h.indexOf(p)||!p,visible:!(!b||r||!m),onClick:function(){return L()}}].concat((t=r?[]:l,function(e){if(Array.isArray(e))return K(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),o().createElement(Z.Z,null,o().createElement(M.Z,{show:c,fitContent:!0,title:c&&c.title,onClose:function(){return u(null)},buttons:c&&c.buttons},c&&c.message)))})),Co=(0,i.compose)((0,l.connect)((0,a.P1)([Y.Vf],(function(e){return{layer:e}})),{onInit:c.k}),(0,i.lifecycle)({UNSAFE_componentWillMount:function(){this.props.onInit&&this.props.layer&&this.props.onInit(this.props.layer)}}),So((function(e){var t=e.layer,r=void 0===t?{}:t;return r&&r.capabilitiesLoading})))((function(){return o().createElement(p.Z,{className:"ms-style-editor-container",footer:o().createElement("div",{style:{height:25}})},o().createElement(jo,{readOnly:!0}))})),Io=(0,i.branch)((function(e){return e.readOnly}),(function(){return Co}))(jo)},7147:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>l,Iz:()=>i,QF:()=>a,_d:()=>s,pn:()=>c,lI:()=>u,PJ:()=>f,dH:()=>d,Gd:()=>p,tL:()=>y,R4:()=>m,BP:()=>b});var n=r(57546),o=r.n(n),l=function(e){return function(e,t){return function(t){return o()(t,"controls[".concat(e,"][").concat("enabled","]"))}}(e)},i=function(e){return o()(e,"controls.measure.showCoordinateEditor")},a=function(e){return o()(e,"controls.measure.enabled")},s=function(e){return o()(e,"controls.queryPanel.enabled")},c=function(e){return!!o()(e,"controls.layerdownload.available")},u=function(e){return!!o()(e,"controls.layerdownload.enabled")},f=function(e){return o()(e,"controls.widgetBuilder.available",!1)},d=function(e){return o()(e,"controls.widgetBuilder.enabled")},p=function(e){return o()(e,"controls.layersettings.initialSettings")||{}},y=function(e){return o()(e,"controls.layersettings.originalSettings")||{}},m=function(e){return o()(e,"controls.layersettings.activeTab")||"general"},b=function(e){return o()(e,"controls.drawer.enabled",!1)}},93222:(e,t,r)=>{"use strict";r.d(t,{gc:()=>g,Mc:()=>h,ex:()=>O,p:()=>w,aN:()=>k,iB:()=>S,j5:()=>E,gB:()=>j,QW:()=>P,w_:()=>C,ji:()=>I,Z0:()=>T,z_:()=>x,Vf:()=>A,lC:()=>D,m2:()=>N,i7:()=>R,Ed:()=>L,ov:()=>F,WW:()=>z,Ri:()=>Z});var n=r(57546),o=r.n(n),l=r(20721),i=r.n(l),a=r(42401),s=r.n(a),c=r(50542),u=r.n(c),f=r(37153),d=r.n(f),p=r(75110),y=r(99009);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){return o()(e,"styleeditor.temporaryId")},h=function(e){return o()(e,"styleeditor.templateId")},O=function(e){return o()(e,"styleeditor.status")},w=function(e){return o()(e,"styleeditor.error")||{}},k=function(e){return o()(e,"styleeditor.loading")},S=function(e){return o()(e,"styleeditor.format")||"css"},E=function(e){return o()(e,"styleeditor.languageVersion")||{}},j=function(e){return o()(e,"styleeditor.code")},P=function(e){return o()(e,"styleeditor.initialCode")||""},C=function(e){return o()(e,"styleeditor.addStyle")||""},I=function(e){return o()(e,"styleeditor.enabled")},T=function(e){return o()(e,"styleeditor.service")||{}},x=function(e){return o()(e,"styleeditor.canEdit")},A=function(e){var t=(0,p.jN)(e);return b(b({},(0,p.Iz)(e)||{}),t&&t.options||{})},D=function(e){var t=A(e),r=(0,y.Py)(t).geometryType;return void 0===r?"vector":r},N=function(e){var t=A(e),r=(0,y.Py)(t).properties;return void 0===r?{}:r},R=function(e){var t=A(e);return t.style||t.availableStyles&&t.availableStyles[0]&&t.availableStyles[0].name},L=function(e){var t=(A(e)||{}).availableStyles,r=void 0===t?[]:t,n=R(e);return i()(r.filter((function(e){return e.name===n})).map((function(e){return e.format})))},F=function(e){var t=A(e),r=t.availableStyles||[],n=(i()(r)||{}).name,o=t.style||t&&!t.style&&n;return{availableStyles:s()(r.map((function(e){var t=e&&e.title&&d()(e.title)&&e.title.split(y.I$),r=t&&t[0]||e.name;return b(b({},e),{},{label:r})})),"name"),defaultStyle:n,enabledStyle:o}},z=function(e){var t;return null==e||null===(t=e.styleeditor)||void 0===t?void 0:t.metadata},Z=function(e){var t=(A(e)||{}).availableStyles,r=void 0===t?[]:t,n=R(e);return(u()(r,(function(e){var t=e.name;return n===t}))||{}).metadata||{}}},84715:(e,t,r)=>{"use strict";r.d(t,{y:()=>u,o:()=>f});var n=r(45559),o=r.n(n),l=r(33716),i=r.n(l),a=r(22222),s=function(e,t){return e===t},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return function(t,r){return Array.isArray(t)&&Array.isArray(r)?t===r||t.length===r.length&&t.reduce((function(t,n,o){return t&&e(n,r[o])}),!0):i()(t)&&i()(r)?t===r||Object.keys(t).length===Object.keys(r).length&&Object.keys(t).reduce((function(n,o){return n&&e(t[o],r[o])}),!0):t===r}},u=(0,a.wN)(a.PW,(function(e,t){return o()(e,t,c())})),f=function(e){return(0,a.wN)(a.PW,(function(t,r){return o()(t,r,c(e))}))}},99009:(e,t,r)=>{"use strict";r.d(t,{I$:()=>R,s1:()=>L,Vi:()=>M,nK:()=>W,Py:()=>B,H$:()=>_,uW:()=>$,YD:()=>U,$N:()=>q,U_:()=>V,Gg:()=>J,VM:()=>Q,ZF:()=>ee});var n=r(20721),o=r.n(n),l=r(57546),i=r.n(l),a=r(80643),s=r.n(a),c=r(37153),u=r.n(c),f=r(90346),d=r.n(f),p=r(82920),y=r.n(p),m=r(10511),b=r.n(m),v=r(59088),g=r.n(v),h=r(74836),O=r.n(h),w=r(84110),k=r.n(w),S=r(72500),E=r.n(S),j=r(11531);function P(e){return function(e){if(Array.isArray(e))return e}(e)||T(e)||I(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function(e){if(Array.isArray(e))return x(e)}(e)||T(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function T(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R="___",L="styleeditor",F={},z={css:"geocss",sld:"xml"},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type&&e.type.localPart&&e.type.localPart.toLowerCase()||"";return-1!==t.indexOf("polygon")||-1!==t.indexOf("surface")?"polygon":-1!==t.indexOf("linestring")?"linestring":-1!==t.indexOf("point")?"point":"vector"},M=function(){return"".concat(k()(),"_ms_").concat(Date.now().toString())},W=function(e){var t=e.title;return"".concat((void 0===t?"":t).toLowerCase().replace(/\s/g,"_")).concat(R).concat(k()())},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.describeLayer,r=void 0===t?{}:t,n=e.describeFeatureType,l=void 0===n?{}:n,a=r&&r.owsType||null,s=i()(l,"complexType[0].complexContent.extension.sequence.element")||null,c=s&&o()(s.filter((function(e){var t=e.type;return t&&"gml"===t.prefix}))),u=("WCS"===a?"raster":c&&"WFS"===a&&Z(c))||null,f="raster"===u?r.bands:s&&s.reduce((function(e,t){var r=t.name,n=t.type,o=void 0===n?{}:n;return D(D({},e),{},N({},r,{localPart:o.localPart,prefix:o.prefix}))}),{});return{geometryType:u,properties:f,owsType:a}},_=function(e){return z[e]||e},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F.isSameOrigin)return F.isSameOrigin(e,t);if(!t.baseUrl||!e.url)return!1;var r=[t.baseUrl].concat(C(t.availableUrls||[])),n=r.map((function(e){var t=E().parse(e);return"".concat(t.protocol,"//").concat(t.host)})),o=E().parse(e.url),l="".concat(o.protocol,"//").concat(o.host);return-1!==n.indexOf(l)},U=function(){if(F.getStyleTemplates){var e=F.getStyleTemplates();return[].concat(C(s()(e)?e:[]),C(j.baseTemplates))}return[].concat(C(j.customTemplates),C(j.baseTemplates))},q=function(e){var t=u()(e)&&e.split(":")||[];return{workspace:t[1]&&t[0],name:t[1]||t[0]}},V=function(e){var t=e.name,r=e.workspace;return"".concat(r&&r.name&&"".concat(r.name,":")||"").concat(t)},G=function e(t,r){if(!(t&&t.filterFields&&t.groupFields&&r))return null;var n=t.filterFields.filter((function(e){return e.groupId===r.id})),o=t.groupFields.filter((function(e){return e.groupId===r.id})),l=[].concat(C(n),C(o)),i={OR:"||",AND:"&&",like:"*=","=":"==","<>":"!=",isNull:"=="},a=l.map((function(r){if(void 0!==r.rowId){var n=r.operator,o=r.attribute,l=r.value;return n&&o&&!y()(l)?[i[n]||n,o,"isNull"===n?null:l]:null}return e(t,r)})).filter((function(e){return e})),s=r.logic;return 0===a.length?null:[i[s]].concat(C(a))},K=function(e){var t,r=null==e||null===(t=e.groupFields)||void 0===t?void 0:t.find((function(e){return!e.groupId}));return r&&G(e,r)},Y=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.index,o=void 0===n?0:n,l=r.groupId,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!t)return null;var a={"||":"OR","&&":"AND","*=":"like","==":"=","!=":"<>"},c=P(t),u=c[0],f=c.slice(1),d=s()(u),p=d?u[0]:u,y=d?u.filter((function(e,t){return 0!==t})):f;if("||"===p||"&&"===p){var m=k()();return i("groupField",{id:m,index:o,logic:a[p]}),e(f,{index:o+1,groupId:m},i)}return p?(i("filterField",{attribute:y[0],groupId:l,operator:a[p]||p,rowId:k()(),type:isNaN(parseFloat(y[1]))?"string":"number",value:y[1]}),e(f,{index:o,groupId:l},i)):null},H=function(e){var t=[],r=[];return Y(e,void 0,(function(e,n){"groupField"===e&&t.push(n),"filterField"===e&&r.push(n)})),{groupFields:t,filterFields:r}};function X(e){var t=g()(e,O());return Object.keys(t).reduce((function(e,r){switch(r){case"haloColor":case"haloWidth":return"Text"===t.kind&&0===t.haloWidth?e:D(D({},e),{},N({},r,t[r]));case"outlineWidth":case"outlineColor":case"outlineOpacity":return"Fill"===t.kind&&0===t.outlineWidth?e:D(D({},e),{},N({},r,t[r]));case"strokeWidth":case"strokeColor":case"strokeOpacity":return"Mark"===t.kind&&0===t.strokeWidth?e:D(D({},e),{},N({},r,t[r]));case"graphicFill":case"graphicStroke":return D(D({},e),{},N({},r,X(t[r])));default:return D(D({},e),{},N({},r,t[r]))}}),{})}function J(e){return e&&e.rules?D(D({},e),{},{rules:d()(e.rules.map((function(e){if("Classification"===e.kind)return(e.classification||[]).map((function(t,r){var n=r===e.classification.length-1?"<=":"<",o=null!==t.min?[[">=",e.attribute,t.min]]:[],l=null!==t.max?[[n,e.attribute,t.max]]:[],i=null!==t.min&&">= "+t.min,a=null!==t.max&&n+" "+t.max;return D(D({name:i&&a?i+" and "+a:i||a,filter:o[0]||l[0]?["&&"].concat(o,l):void 0},e.scaleDenominator&&{scaleDenominator:e.scaleDenominator}),{},{symbolizers:[X(D(D({},b()(e,["ruleId","classification","intervals","method","ramp","reverse","attribute","symbolizerKind"])),{},{kind:e.symbolizerKind||"Fill",color:t.color}))]})}));if("Raster"===e.kind){var t=e.classification&&e.classification.length>0&&{colorMapEntries:(e.classification||[]).map((function(e){return{label:e.label,quantity:e.quantity,color:e.color,opacity:e.opacity}}))};return D(D({name:e.name||""},e.scaleDenominator&&{scaleDenominator:e.scaleDenominator}),{},{symbolizers:[X(D(D({},b()(e,["ruleId","classification","intervals","method","ramp","reverse","continuous","symbolizerKind","name"])),{},{kind:"Raster"},t&&{colorMap:t}))]})}var r=K(e.filter);return D(D({},e),{},{filter:r,symbolizers:((null==e?void 0:e.symbolizers)||[]).map((function(e){return X(e)}))})})))}):e}function Q(e){return D(D({},e),{},{rules:e.rules.map((function(e){return D(D({},e),{},{ruleId:k()(),filter:e.filter&&H(e.filter),symbolizers:e.symbolizers&&e.symbolizers.map((function(e){return D(D({},e),{},{symbolizerId:k()()})}))||[]})}))})}function ee(e){return new Promise((function(t,r){e||r({messageId:"imageSrcEmpty",isBase64:!1});var n=!1;if(0===e.indexOf("data:image")){var o=e.split("base64,");(n=function(e){try{return window.atob(e),!0}catch(e){return!1}}(o[o.length-1]))||r({messageId:"imageSrcInvalidBase64",isBase64:n})}var l=new Image;l.onload=function(){t({src:e,isBase64:n})},l.onerror=function(){r({messageId:n?"imageSrcInvalidBase64":"imageSrcLoadError",isBase64:n})},l.src=e}))}},11531:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(84110),a=[{types:["point","linestring","polygon","vector"],title:"Base CSS",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol(square);\n\t:mark { fill: #ff0000; };\n}\n\n* {\n\tstroke: #999999;\n}",preview:{config:{backgroundColor:"#333333",texts:[{text:"CSS",fill:"#ffaa33",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["point","linestring","polygon","vector"],title:"Base SLD",format:"sld",code:'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<LineSymbolizer>\n\t\t\t\t\t\t<Stroke>\n\t\t\t\t\t\t\t<CssParameter name="stroke">#0000FF</CssParameter>\n\t\t\t\t\t\t</Stroke>\n\t\t\t\t\t\t</LineSymbolizer>\n\t\t\t\t\t<PointSymbolizer>\n\t\t\t\t\t\t<Graphic>\n\t\t\t\t\t\t\t<Mark>\n\t\t\t\t\t\t\t\t<WellKnownName>square</WellKnownName>\n\t\t\t\t\t\t\t\t<Fill>\n\t\t\t\t\t\t\t\t\t<CssParameter name="fill">#FF0000</CssParameter>\n\t\t\t\t\t\t\t\t</Fill>\n\t\t\t\t\t\t\t</Mark>\n\t\t\t\t\t\t</Graphic>\n\t\t\t\t\t</PointSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n',preview:{config:{backgroundColor:"#333333",texts:[{text:"SLD",fill:"#33ffaa",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["raster"],title:"Base CSS",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\traster-channels: auto;\n}",preview:{config:{backgroundColor:"#333333",texts:[{text:"CSS",fill:"#ffaa33",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["raster"],title:"Base SLD",format:"sld",code:'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<RasterSymbolizer>\n\t\t\t\t\t\t<Opacity>1.0</Opacity>\n\t\t\t\t\t\t</RasterSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n',preview:{config:{backgroundColor:"#333333",texts:[{text:"SLD",fill:"#33ffaa",style:{fontSize:64,fontWeight:"bold"}}]}}}].map((function(e){return o(o({},e),{},{styleId:i()})})),s=[{types:["linestring","vector"],title:"Line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #999999;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#999999"}]}}},{types:["linestring","vector"],title:"Dashed line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #333333;\n\tstroke-width: 0.75;\n\tstroke-dasharray: 6 2;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#333333",strokeWidth:4,strokeDasharray:"20 4"}]}}},{types:["linestring","vector"],title:"Section line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #330033;\n\tstroke-width: 1;\n\tstroke-dasharray: 10 4 1 4;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#330033",strokeWidth:4,strokeDasharray:"20 10 4 10"}]}}},{types:["linestring","vector"],title:"Simple railway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: symbol('shape://vertline'), #000000;\n    :stroke {\n        stroke: #000000;\n        size: 8;\n    };\n}\n",preview:{config:{type:"linestring",paths:[{stroke:"#333333",strokeWidth:2,strokeLinejoin:"round"},{stroke:"#333333",strokeWidth:16,strokeDasharray:"2 20",strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Railway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #777777, #ffffff;\n\tstroke-width: 4, 2;\n\tstroke-dasharray: 1 0, 10 10;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#777777",strokeWidth:8,strokeLinejoin:"round"},{stroke:"#ffffff",strokeWidth:6,strokeDasharray:"20 20",strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Waterway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #8bbceb, #bbddff;\n\tstroke-width: 10, 8;\n\tstroke-linejoin: round;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#8bbceb",strokeWidth:14,strokeLinejoin:"round"},{stroke:"#bbddff",strokeWidth:12,strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Red road",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #ff5539, #ffffff;\n\tstroke-width: 8, 5;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#ff5539",strokeWidth:14},{stroke:"#ffffff",strokeWidth:7}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: symbol('circle');\n    stroke-dasharray: 8 20;\n    :stroke {\n        size: 8;\n        fill: #ddd;\n        stroke: #777;\n        stroke-width: 0.5;\n    };\n}\n",types:["linestring","vector"],title:"Stroke Pattern",format:"css",preview:{config:{type:"linestring",paths:[{type:"point",transform:"translate(-0, -55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(-65, 55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(-33, 0)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(33, 0)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(65, 55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    label: 'Label';\n    label-anchor: 0.5 0.5;\n    label-conflict-resolution: false;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n}\n",types:["linestring","vector"],title:"Label",format:"css",preview:{config:{type:"linestring",paths:[{stroke:"#333",strokeWidth:4}],texts:[{text:"Label",transform:"translate(-40, 0)",style:{fontSize:30,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",transform:"translate(-40, 0)",style:{fontSize:30,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd;\n}\n",types:["polygon","vector"],title:"Fill",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    stroke-width: 1;\n}\n",types:["polygon","vector"],title:"Border",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    stroke-dasharray: 10 5;\n    stroke-width: 2;\n    stroke-opacity: 0.5;\n}\n",types:["polygon","vector"],title:"Dashed Border",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333",strokeWidth:4,strokeDasharray:"20 10",strokeOpacity:.5}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd;\n    stroke: #333;\n    stroke-width: 1;\n}\n",types:["polygon","vector"],title:"Simple",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd",stroke:"#333",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: symbol('shape://slash');\n    :fill {\n        size: 8;\n        stroke: #000;\n        stroke-width: 1;\n        stroke-linecap: round;\n    };\n}\n",types:["polygon","vector"],title:"Line Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"url(#line)"}],patterns:[{id:"line",icon:{d:"M0.0 1.0 L1.0 0.0",stroke:"#000",strokeWidth:.05}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: symbol('shape://dot');\n    :fill {\n        size: 8;\n        stroke: #000000;\n        stroke-width: 4;\n    };\n}\n",types:["polygon","vector"],title:"Dot Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"url(#poly_dot)"}],patterns:[{id:"poly_dot",icon:{d:"M0.5 0.5 L0.5 0.52Z",stroke:"#000",strokeLinecap:"round",strokeWidth:.2}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    mark: symbol('circle');\n    :mark {\n        size: 16;\n        stroke: #333;\n        stroke-width: 2;\n        fill: #ddd;\n    };\n}\n\n* {\n    stroke: #333333;\n    stroke-width: 0.5;\n}\n",types:["polygon","vector"],title:"Marker",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333"},{type:"point",d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#333",fill:"#ddd",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd, symbol('cross');\n    :fill {\n        size: 20;\n        stroke: #333;\n        stroke-width: 1;\n        fill: #f2f2f2;\n    };\n}\n",types:["polygon","vector"],title:"Fill Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd"},{fill:"url(#poly_square)"}],patterns:[{id:"poly_square",icon:{d:"M0.1 0.1 L0.9 0.1 L0.9 0.9 L0.1 0.9Z",stroke:"#333",strokeLinecap:"round",strokeWidth:.05,fill:"#f2f2f2"}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    label: 'Label';\n    label-anchor: 0.5 0.5;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n\n    stroke: #474747;\n    fill: symbol('shape://slash');\n    :fill {\n        size: 8;\n        stroke: #000;\n        stroke-width: 1;\n        stroke-linecap: round;\n    };\n}\n",types:["polygon","vector"],title:"Label and Fill",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#000",strokeWidth:2},{fill:"url(#line)"}],texts:[{text:"Label",style:{fontSize:50,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",style:{fontSize:50,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}},{types:["point","vector"],title:"Square",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('square');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Circle",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('circle');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Triangle",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('triangle');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Star",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('star');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Cross",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('cross');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"X",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('x');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://vertline');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Plus",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://plus');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Times",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://times');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Open arrow",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://oarrow');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Closed arrow",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://carrow');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    label: 'Label';\n    label-anchor: 0.5 2;\n    label-conflict-resolution: false;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n\n    mark: symbol('circle');\n    :mark {\n        size: 7;\n        stroke: #0d0d0d;\n        stroke-width: 0.7;\n    };\n}\n",types:["polygon","point","vector"],title:"Label and Marker",format:"css",preview:{config:{type:"polygon",paths:[{type:"point",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#0d0d0d",fill:"transparent",strokeWidth:2}],texts:[{text:"Label",y:150,style:{fontSize:50,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",y:150,style:{fontSize:50,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}}].map((function(e){return o(o({},e),{},{styleId:i()})}));e.exports={baseTemplates:a,customTemplates:s}},31667:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi .mapstore-filter input::-ms-clear,\n.msgapi .mapstore-filter input::-ms-reveal {\n  display: none;\n}\n",""])},61057:(e,t,r)=>{var n=r(31667);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)}}]);